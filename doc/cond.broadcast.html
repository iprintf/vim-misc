
Cond::broadcast

(PECL pthreads >= 2.0.0)

Cond::broadcast — 广播条件变量

说明

final public static boolean Cond::broadcast ( long $condition )

向所有由于调用 Cond::wait() 函数而进入条件阻塞状态的线程发送广播。

参数

condition

    通过调用函数 Cond::create() 获得的条件变量句柄。

返回值

布尔值，表示操作是否成功。

范例

Example #1 广播条件变量

<?php
/** 不可以使用 new 关键字，因为 Cond 不是 PHP 对象 **/
$cond = Cond::create();
/** 调用者必须给关联的互斥量加锁，然后才可以进行广播（调用 broadcast 方法） **/
var_dump(Cond::broadcast($cond));
/** 永远不要忘记销毁你创建的条件变量 **/
Cond::destroy($cond);
?>

以上例程会输出：

bool(true)

