
imap_check

(PHP 4, PHP 5, PHP 7)

imap_check — Check current mailbox

说明

object imap_check ( resource $imap_stream )

Checks information about the current mailbox.

参数

imap_stream

    由 imap_open() 返回的 IMAP 流。

返回值

Returns the information in an object with following properties:

  • Date - current system time formatted according to » RFC2822
  • Driver - protocol used to access this mailbox: POP3, IMAP, NNTP
  • Mailbox - the mailbox name
  • Nmsgs - number of messages in the mailbox
  • Recent - number of recent messages in the mailbox

Returns FALSE on failure.

范例

Example #1 imap_check() example

<?php

$imap_obj = imap_check($imap_stream);
var_dump($imap_obj);

?>

以上例程的输出类似于：

object(stdClass)(5) {
  ["Date"]=>
  string(37) "Wed, 10 Dec 2003 17:56:54 +0100 (CET)"
  ["Driver"]=>
  string(4) "imap"
  ["Mailbox"]=>
  string(54)
  "{www.example.com:143/imap/user="foo@example.com"}INBOX"
  ["Nmsgs"]=>
  int(1)
  ["Recent"]=>
  int(0)
}


User Contributed Notes 4 notes

===============================================================================

You can prevent imap_check from flagging new/recent messages as checked by
calling imap_open with the "/readonly" or OP_READONLY flags.
===============================================================================

The imap_check ($stream); function will return real-time information about the
e-mail box (at least imap) during one connection :)
===============================================================================

Running this on a mailbox will mark recent/new messages as checked.
===============================================================================

You can NOT prevent imap_check from flagging new/recent messages when using
POP3 enabling the "/readonly" or OP_READONLY flags or options.
