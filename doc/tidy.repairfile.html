
tidy::repairFile

tidy_repair_file

(PHP 5, PHP 7, PECL tidy >= 0.7.0)

tidy::repairFile -- tidy_repair_file — Repair a file and return it as a string

说明

面向对象风格

string tidy::repairFile ( string $filename [, mixed $config [, string $encoding
[, bool $use_include_path = false ]]] )

过程化风格

string tidy_repair_file ( string $filename [, mixed $config [, string $encoding
[, bool $use_include_path = false ]]] )

Repairs the given file and returns it as a string.

参数

filename

    The file to be repaired.

config

    The config config can be passed either as an array or as a string. If a
    string is passed, it is interpreted as the name of the configuration file,
    otherwise, it is interpreted as the options themselves.

    Check http://tidy.sourceforge.net/docs/quickref.html for an explanation
    about each option.

encoding

    The encoding parameter sets the encoding for input/output documents. The
    possible values for encoding are: ascii, latin0, latin1, raw, utf8, iso2022
    , mac, win1252, ibm858, utf16, utf16le, utf16be, big5, and shiftjis.

use_include_path

    Search for the file in the include_path.

返回值

Returns the repaired contents as a string.

范例

Example #1 tidy::repairFile() example

<?php
$file = 'file.html';

$tidy = new tidy();
$repaired = $tidy->repairfile($file);
rename($file, $file . '.bak');

file_put_contents($file, $repaired);
?>

注释

    Note: 可选参数 config 和 encoding 是在 Tidy 2.0 中加入的。

参见

  • tidy::parseFile() - Parse markup in file or URI
  • tidy::parseString() - Parse a document stored in a string
  • tidy::repairString() - Repair a string using an optionally provided
    configuration file

