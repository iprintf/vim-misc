
Phar::offsetUnset

(PHP >= 5.3.0, PECL phar >= 1.0.0)

Phar::offsetUnset — remove a file from a phar

说明

public bool Phar::offsetUnset ( string $offset )


    Note:

    此方法需要将 php.ini 中的 phar.readonly 设为 0 以适合 Phar 对象. 否则, 将抛
    出PharException.

This is an implementation of the ArrayAccess interface allowing direct
manipulation of the contents of a Phar archive using array access brackets.
offsetUnset is used for deleting an existing file, and is called by the unset()
language construct.

参数

offset

    The filename (relative path) to modify in a Phar.

返回值

成功时返回 TRUE，或者在失败时返回 FALSE。

错误／异常

if phar.readonly is 1, BadMethodCallException is thrown, as modifying a Phar is
only allowed when phar.readonly is set to 0. Throws PharException if there are
any problems flushing changes made to the Phar archive to disk.

范例

Example #1 A Phar::offsetUnset() example

<?php
$p = new Phar('/path/to/my.phar', 0, 'my.phar');
try {
    // deletes file.txt from my.phar by calling offsetUnset
    unset($p['file.txt']);
} catch (Exception $e) {
    echo 'Could not delete file.txt: ', $e;
}
?>

参见

  • Phar::offsetExists() - determines whether a file exists in the phar
  • Phar::offsetGet() - Gets a PharFileInfo object for a specific file
  • Phar::offsetSet() - set the contents of an internal file to those of an
    external file
  • Phar::unlinkArchive() - Completely remove a phar archive from disk and from
    memory
  • Phar::delete() - 删除 phar 档案中的一个文件

