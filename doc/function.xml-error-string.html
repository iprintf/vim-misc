
xml_error_string

(PHP 4, PHP 5, PHP 7)

xml_error_string — 获取 XML 解析器的错误字符串

说明

string xml_error_string ( int $code )

根据给定的 code 获得 XML 解析器错误字符串。

参数

code

    由 xml_get_error_code() 返回的错误代码。

返回值

返回与 code 描述的错误代码参数对应的文本描述字符串，若没有与之对应的描述，则返
回 FALSE。

参见

  • xml_get_error_code() - 获取 XML 解析器错误代码


User Contributed Notes 1 note

===============================================================================

Two notes in one.

Here is the combination of xml_get_error_code() and xml_error_string() to get
the error printout as an echo response

Also, I tested before and after xml_parser_free() -- as expected, the error is
indeed cleared with the free() so check your error before calling
xml_parser_free()

Pushing a deadline or I would add in sample faulted xml for full p.o.c.

somebody else want to step up for that??

G

<?php
$p = xml_parser_create();
xml_parse_into_struct($p, $data, $vals, $index);
//This call prints error
echo 'ERROR if any '.xml_error_string(xml_get_error_code($p));
xml_parser_free($p);
echo "Index array\\n";
print_r($index);
echo "\\nVals array\\n";
print_r($vals);
//No Error left here to be printed
echo 'ERROR if any '.xml_error_string(xml_get_error_code($p));
exit;
?>
