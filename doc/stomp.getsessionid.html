
Stomp::getSessionId

stomp_get_session_id

(PECL stomp >= 0.1.0)

Stomp::getSessionId -- stomp_get_session_id — Gets the current stomp session ID

说明

面向对象风格 (method):

public string Stomp::getSessionId ( void )

过程化风格:

string stomp_get_session_id ( resource $link )

Gets the current stomp session ID.

参数

link

    仅对过程化样式：由 stomp_connect() 返回的 stomp 连接标识符。

返回值

string session id on success 或者在失败时返回 FALSE.

范例

Example #1 面向对象风格

<?php

/* connection */
try {
    $stomp = new Stomp('tcp://localhost:61613');
} catch(StompException $e) {
    die('Connection failed: ' . $e->getMessage());
}

var_dump($stomp->getSessionId());

/* close connection */
unset($stomp);

?>

以上例程的输出类似于：

string(35) "ID:php.net-52873-1257291895530-4:14"

Example #2 过程化风格

<?php

/* connection */
$link = stomp_connect('ssl://localhost:61612');

/* check connection */
if (!$link) {
    die('Connection failed: ' . stomp_connect_error());
}

var_dump(stomp_get_session_id($link));

/* close connection */
stomp_close($link);

?>

以上例程的输出类似于：

string(35) "ID:php.net-52873-1257291895530-4:14"

