
Mutex::destroy

(PECL pthreads >= 2.0.0)

Mutex::destroy — 销毁互斥量

说明

final public static boolean Mutex::destroy ( long $mutex )

当不再使用某个已经创建的互斥量句柄之后，程序员需要显式的销毁它。

参数

mutex

    通过调用函数 Mutex::create() 返回的互斥量句柄。当调用 Mutex::destroy() 函数
    之后，任何线程都无法再给这个互斥量加锁了。

返回值

布尔值，表示操作是否成功

范例

Example #1 互斥量的创建与销毁

<?php
/** 不可以使用 new 关键字，因为互斥量不是 PHP 对象 **/
$mutex = Mutex::create();
/** 你已经持有了这个互斥量的物理地址 **/
var_dump($mutex);
/** 不要忘记销毁你创建的互斥量 **/
Mutex::destroy($mutex);
?>

以上例程会输出：

int(40096976)

