
MongoDB\Driver\Server::executeBulkWrite

(mongodb >=1.0.0)

MongoDB\Driver\Server::executeBulkWrite — Execute one or more write operations
on this server

说明

final public MongoDB\Driver\WriteResult MongoDB\Driver\Server::executeBulkWrite
( string $namespace , MongoDB\Driver\BulkWrite $bulk [, MongoDB\Driver\
WriteConcern $writeConcern ] )

Executes one or more write operations on this server.

A MongoDB\Driver\BulkWrite can be constructed with one or more write operations
of varying types (e.g. updates, deletes, and inserts). The driver will attempt
to send operations of the same type to the server in as few requests as
possible to optimize round trips.

参数

namespace (string)

    A fully qualified namespace (e.g. "databaseName.collectionName").

bulk (MongoDB\Driver\BulkWrite)

    The MongoDB\Driver\BulkWrite to execute.

writeConcern (MongoDB\Driver\WriteConcern)

    Optionally, a MongoDB\Driver\WriteConcern to apply to the write operation.
    If none is given, the write concern from the MongoDB Connection URI will be
    used.

返回值

Returns MongoDB\Driver\WriteResult on success.

错误／异常

  • Throws MongoDB\Driver\Exception\BulkWriteException on any write failure
    (e.g. write error, failure to apply a write concern)
  • Throws MongoDB\Driver\Exception\InvalidArgumentException on argument
    parsing errors.
  • Throws MongoDB\Driver\Exception\ConnectionException if connection to the
    server fails (for reasons other than authentication).
  • Throws MongoDB\Driver\Exception\AuthenticationException if authentication
    is needed and fails.
  • Throws MongoDB\Driver\Exception\RuntimeException on other errors.

注释

    Note:

    It is the caller's responsibility to ensure that the server is capable of
    executing the write operation. For example, executing a write operation on
    a secondary (excluding its "local" database) will fail.

参见

  • MongoDB\Driver\BulkWrite
  • MongoDB\Driver\WriteResult
  • MongoDB\Driver\WriteConcern
  • MongoDB\Driver\Manager::executeBulkWrite() - Execute one or more write
    operations

