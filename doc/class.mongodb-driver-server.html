
The MongoDB\Driver\Server class

(mongodb >=1.0.0)

简介

类摘要

final MongoDB\Driver\Server {
/* Constants */
const integer TYPE_UNKNOWN = 0 ;
const integer TYPE_STANDALONE = 1 ;
const integer TYPE_MONGOS = 2 ;
const integer TYPE_POSSIBLE_PRIMARY = 3 ;
const integer TYPE_RS_PRIMARY = 4 ;
const integer TYPE_RS_SECONDARY = 5 ;
const integer TYPE_RS_ARBITER = 6 ;
const integer TYPE_RS_OTHER = 7 ;
const integer TYPE_RS_GHOST = 8 ;
/* 方法 */
final private __construct ( void )
final public MongoDB\Driver\WriteResult executeBulkWrite ( string $namespace , 
MongoDB\Driver\BulkWrite $bulk [, MongoDB\Driver\WriteConcern $writeConcern ] )
final public MongoDB\Driver\Cursor executeCommand ( string $db , MongoDB\Driver
\Command $command [, MongoDB\Driver\ReadPreference $readPreference ] )
final public MongoDB\Driver\Cursor executeQuery ( string $namespace , MongoDB\
Driver\Query $query [, MongoDB\Driver\ReadPreference $readPreference ] )
final public string getHost ( void )
final public array getInfo ( void )
final public string getLatency ( void )
final public int getPort ( void )
final public array getTags ( void )
final public int getType ( void )
final public bool isArbiter ( void )
final public bool isHidden ( void )
final public bool isPassive ( void )
final public bool isPrimary ( void )
final public bool isSecondary ( void )
}

预定义常量

MongoDB\Driver\Server::TYPE_UNKNOWN

    Unknown server type, returned by MongoDB\Driver\Server::getType().

MongoDB\Driver\Server::TYPE_STANDALONE

    Standalone server type, returned by MongoDB\Driver\Server::getType().

MongoDB\Driver\Server::TYPE_MONGOS

    Mongos server type, returned by MongoDB\Driver\Server::getType().

MongoDB\Driver\Server::TYPE_POSSIBLE_PRIMARY

    Replica set possible primary server type, returned by MongoDB\Driver\
    Server::getType().

    A server may be identified as a possible primary if it has not yet been
    checked but another memory of the replica set thinks it is the primary.

MongoDB\Driver\Server::TYPE_RS_PRIMARY

    Replica set primary server type, returned by MongoDB\Driver\Server::getType
    ().

MongoDB\Driver\Server::TYPE_RS_SECONDARY

    Replica set secondary server type, returned by MongoDB\Driver\
    Server::getType().

MongoDB\Driver\Server::TYPE_RS_ARBITER

    Replica set arbiter server type, returned by MongoDB\Driver\Server::getType
    ().

MongoDB\Driver\Server::TYPE_RS_OTHER

    Replica set other server type, returned by MongoDB\Driver\Server::getType()
    .

    Such servers may be hidden, starting up, or recovering. They cannot be
    queried, but their hosts lists are useful for discovering the current
    replica set configuration.

MongoDB\Driver\Server::TYPE_RS_GHOST

    Replica set ghost server type, returned by MongoDB\Driver\Server::getType()
    .

    Servers may be identified as such in at least three situations: briefly
    during server startup; in an uninitialized replica set; or when the server
    is shunned (i.e. removed from the replica set config). They cannot be
    queried, nor can their host list be used to discover the current replica
    set configuration; however, the client may monitor this server in hope that
    it transitions to a more useful state.

Table of Contents

  • MongoDB\Driver\Server::__construct — Create a new Server (not used)
  • MongoDB\Driver\Server::executeBulkWrite — Execute one or more write
    operations on this server
  • MongoDB\Driver\Server::executeCommand — Execute a database command on this
    server
  • MongoDB\Driver\Server::executeQuery — Execute a database query on this
    server
  • MongoDB\Driver\Server::getHost — Returns the hostname of this server
  • MongoDB\Driver\Server::getInfo — Returns an array of information about this
    server
  • MongoDB\Driver\Server::getLatency — Returns the latency of this server
  • MongoDB\Driver\Server::getPort — Returns the port on which this server is
    listening
  • MongoDB\Driver\Server::getTags — Returns an array of tags describing this
    server in a replica set
  • MongoDB\Driver\Server::getType — Returns an integer denoting the type of
    this server
  • MongoDB\Driver\Server::isArbiter — Checks if this server is an arbiter
    member of a replica set
  • MongoDB\Driver\Server::isHidden — Checks if this server is a hidden member
    of a replica set
  • MongoDB\Driver\Server::isPassive — Checks if this server is a passive
    member of a replica set
  • MongoDB\Driver\Server::isPrimary — Checks if this server is a primary
    member of a replica set
  • MongoDB\Driver\Server::isSecondary — Checks if this server is a secondary
    member of a replica set

