
Memcached::getStats

(PECL memcached >= 0.1.0)

Memcached::getStats — 获取服务器池的统计信息

说明

public array Memcached::getStats ( void )

Memcached::getStats()返回一个包含所有可用memcache服务器状态的数组. 返回的统计信
息的详细描述参见» memcache protocol。（译注：经实验，服务器池中有不可用服务器时
，返回false）

参数

此函数没有参数。

返回值

服务器统计信息数组，每个服务器一项。

范例

Example #1 Memcached::getStats() 示例

<?php
$m = new Memcached();
$m->addServer('localhost', 11211);

print_r($m->getStats());
?>

以上例程的输出类似于：

Array
(
    [localhost:11211] => Array
        (
            [pid] => 4933
            [uptime] => 786123
            [threads] => 1
            [time] => 1233868010
            [pointer_size] => 32
            [rusage_user_seconds] => 0
            [rusage_user_microseconds] => 140000
            [rusage_system_seconds] => 23
            [rusage_system_microseconds] => 210000
            [curr_items] => 145
            [total_items] => 2374
            [limit_maxbytes] => 67108864
            [curr_connections] => 2
            [total_connections] => 151
            [connection_structures] => 3
            [bytes] => 20345
            [cmd_get] => 213343
            [cmd_set] => 2381
            [get_hits] => 204223
            [get_misses] => 9120
            [evictions] => 0
            [bytes_read] => 9092476
            [bytes_written] => 15420512
            [version] => 1.2.6
        )

)


User Contributed Notes 2 notes

===============================================================================

The method currently does not support the optional (and subject to change) type
parameter for the stats command:
- "items", "sizes", "slabs"

The documentation for the optional parameters can be found here (sections below
General-purpose statistics):
http://code.sixapart.com/svn/memcached/trunk/server/doc/protocol.txt

The Memcache Extension can be uses to retrieve that information:
http://www.php.net/manual/en/function.memcache-getstats.php
===============================================================================

the link to memcache protocol is out date. the new link is https://github.com/
facebook/memcached/blob/master/doc/protocol.txt
