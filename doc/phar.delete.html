
Phar::delete

(PHP >= 5.3.0, PECL phar >= 2.0.0)

Phar::delete — 删除 phar 档案中的一个文件

说明

public bool Phar::delete ( string $entry )


    Note:

    此方法需要将 php.ini 中的 phar.readonly 设为 0 以适合 Phar 对象. 否则, 将抛
    出PharException.

删除档案中的一个文件。这个方法与下面示例中调用 unlink() 处理数据流包装器的方式
等价。

参数

entry

    需要删除的文件在档案中的路径。

返回值

成功时返回 TRUE，但是最好还是检查一下是否抛出了异常，如果没有抛出，可以认定操作
成功。

错误／异常

如果将修改保存到磁盘时发生了错误，会抛出 PharException 异常。

范例

Example #1 一个 Phar::delete() 示例

<?php
try {
    $phar = new Phar('myphar.phar');
    $phar->delete('unlink/me.php');
    // this is equivalent to:
    unlink('phar://myphar.phar/unlink/me.php');
} catch (Exception $e) {
    // handle errors
}
?>

参见

  • PharData::delete() - Delete a file within a tar/zip archive
  • Phar::unlinkArchive() - Completely remove a phar archive from disk and from
    memory

