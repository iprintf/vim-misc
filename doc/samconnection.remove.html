
SAMConnection::remove

(PECL sam >= 0.1.0)

SAMConnection::remove — Remove a message from a queue.

说明

SAMMessage SAMConnection::remove ( string $target [, array $properties ] )

Removes a message from a queue.

参数

target

    The identity of the queue from which to remove the message.

properties

    An optional associative array of properties describing other parameters to
    control the remove operation.

    Property name                        Possible values
    SAM_CORRELID  This is the target correlation id string of the message. This
                  would typically have been returned by a "send" request.
    SAM_MESSAGEID This is the message id string of the message which is to be
                  removed.

返回值

This method returns FALSE if an error occurs.

范例

Example #1 Removing a message from a queue by message id

<?php
if (!$conn->remove('queue://receive/test', array(SAM_MESSAGEID => $messageId)))
 {
  // The remove failed!
  echo "Remove failed ($conn->errno) $conn->error";
}
?>

