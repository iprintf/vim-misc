
Memcached::setByKey

(PECL memcached >= 0.1.0)

Memcached::setByKey — Store an item on a specific server

说明

public bool Memcached::setByKey ( string $server_key , string $key , mixed
$value [, int $expiration ] )

除了可以使用server_key自由的将key映射到指定服务器外， Memcached::setByKey()在功
能上等同于Memcached::set()。 (译注: 关于*ByKey系列方法及$server_key的工作原理请
参照addByKey方法文档)。

参数

server_key

    本键名用于识别储存和读取值的服务器。没有将实际的键名散列到具体的项目，而是
    在决定与哪一个 memcached 服务器通信时将其散列为服务器键名。这使得关联的项目
    在单一的服务上被组合起来以提高多重操作的效率。

key

    用于存储值的键名。

value

    存储的值。

expiration

    到期时间，默认为 0。更多信息请参见到期时间。

返回值

成功时返回 TRUE，或者在失败时返回 FALSE。如需要则使用 Memcached::getResultCode
()。

范例

Example #1 Memcached::setByKey() 示例

<?php
$m = new Memcached();
$m->addServer('localhost', 11211);

/* 保证block-ip系列key的存储在同一台服务器上。*/
$m->setByKey('api-cache', 'block-ip:169.254.253.252', 1);
$m->setByKey('api-cache', 'block-ip:169.127.127.202', 1);
?>

参见

  • Memcached::set() - 存储一个元素

