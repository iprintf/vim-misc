
SplFileObject::fputcsv

(PHP 5 >= 5.4.0, PHP 7)

SplFileObject::fputcsv — Write a field array as a CSV line

说明

public int SplFileObject::fputcsv ( array $fields [, string $delimiter = "," [,
string $enclosure = '"' [, string $escape = "\" ]]] )

Writes the fields array to the file as a CSV line.

参数

fields

    An array of values.

delimiter

    The optional delimiter parameter sets the field delimiter (one character
    only).

enclosure

    The optional enclosure parameter sets the field enclosure (one character
    only).

escape

    The optional escape parameter sets the escape character (one character
    only).

返回值

Returns the length of the written string 或者在失败时返回 FALSE.

Returns FALSE, and does not write the CSV line to the file, if the delimiter or
enclosure parameter is not a single character.

错误／异常

An E_WARNING level error is issued if the delimiter or enclosure parameter is
not a single character.

更新日志

    版本                 说明
5.5.21, 5.6.5 Added the escape parameter.

范例

Example #1 SplFileObject::fputcsv() example

<?php

$list = array (
    array('aaa', 'bbb', 'ccc', 'dddd'),
    array('123', '456', '789'),
    array('"aaa"', '"bbb"')
);

$file = new SplFileObject('file.csv', 'w');

foreach ($list as $fields) {
    $file->fputcsv($fields);
}

?>

The above example will write the following to file.csv:

aaa,bbb,ccc,dddd
123,456,789
"""aaa""","""bbb"""


参见

  • fputcsv() - 将行格式化为 CSV 并写入文件指针
  • SplFileObject::fgetcsv() - Gets line from file and parse as CSV fields


User Contributed Notes 1 note

===============================================================================

This method is available in PHP 5.4 and it is just a wrapper over php.net/
fputcsv.
