
ZipArchive::getFromName

(PHP 5 >= 5.2.0, PHP 7, PECL zip >= 1.1.0)

ZipArchive::getFromName — Returns the entry contents using its name

说明

string ZipArchive::getFromName ( string $name [, int $length = 0 [, int $flags
]] )

Returns the entry contents using its name.

参数

name

    Name of the entry

length

    The length to be read from the entry. If 0, then the entire entry is read.

flags

    The flags to use to find the entry. The following values may be ORed.
      □ ZipArchive::FL_UNCHANGED

      □ ZipArchive::FL_COMPRESSED

      □ ZipArchive::FL_NOCASE

返回值

Returns the contents of the entry on success 或者在失败时返回 FALSE.

范例

Example #1 Get the file contents

<?php
$zip = new ZipArchive;
if ($zip->open('test1.zip') === TRUE) {
    echo $zip->getFromName('testfromfile.php');
    $zip->close();
} else {
    echo 'failed';
}
?>

Example #2 Convert an image from a zip entry

<?php
$z = new ZipArchive();
if ($z->open(dirname(__FILE__) . '/test_im.zip')) {
    $im_string = $z->getFromName("pear_item.gif");
    $im = imagecreatefromstring($im_string);
    imagepng($im, 'b.png');
}
?>

参见

  • ZipArchive::getFromIndex() - Returns the entry contents using its index

