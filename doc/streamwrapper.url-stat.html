
streamWrapper::url_stat

(PHP 4 >= 4.3.2, PHP 5, PHP 7)

streamWrapper::url_stat — Retrieve information about a file

说明

public array streamWrapper::url_stat ( string $path , int $flags )

This method is called in response to all stat() related functions, such as:

  • chmod() (only when safe_mode is enabled)
  • copy()
  • fileperms()
  • fileinode()
  • filesize()
  • fileowner()
  • filegroup()
  • fileatime()
  • filemtime()
  • filectime()
  • filetype()
  • is_writable()
  • is_readable()
  • is_executable()
  • is_file()
  • is_dir()
  • is_link()
  • file_exists()
  • lstat()
  • stat()
  • SplFileInfo::getPerms()
  • SplFileInfo::getInode()
  • SplFileInfo::getSize()
  • SplFileInfo::getOwner()
  • SplFileInfo::getGroup()
  • SplFileInfo::getATime()
  • SplFileInfo::getMTime()
  • SplFileInfo::getCTime()
  • SplFileInfo::getType()
  • SplFileInfo::isWritable()
  • SplFileInfo::isReadable()
  • SplFileInfo::isExecutable()
  • SplFileInfo::isFile()
  • SplFileInfo::isDir()
  • SplFileInfo::isLink()
  • RecursiveDirectoryIterator::hasChildren()

参数

path

    The file path or URL to stat. Note that in the case of a URL, it must be a
    :// delimited URL. Other URL forms are not supported.

flags

    Holds additional flags set by the streams API. It can hold one or more of
    the following values OR'd together.

            Flag                               Description
                          For resources with the ability to link to other
                          resource (such as an HTTP Location: forward, or a
                          filesystem symlink). This flag specified that only
    STREAM_URL_STAT_LINK  information about the link itself should be returned,
                          not the resource pointed to by the link. This flag is
                          set in response to calls to lstat(), is_link(), or 
                          filetype().
                          If this flag is set, your wrapper should not raise
    STREAM_URL_STAT_QUIET any errors. If this flag is not set, you are
                          responsible for reporting errors using the 
                          trigger_error() function during stating of the path.

返回值

Should return as many elements as stat() does. Unknown or unavailable values
should be set to a rational value (usually 0).

错误／异常

调用此方法失败将给出 E_WARNING（未实现）。

注释

    Note:

    当合法的上下文传递给调用函数时，属性 streamWrapper::$context 会被改变。

参见

  • stat() - 给出文件的信息
  • streamwrapper::stream_stat() - Retrieve information about a file resource

