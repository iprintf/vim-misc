
PharData::addFile

(PHP >= 5.3.0, PECL phar >= 2.0.0)

PharData::addFile — Add a file from the filesystem to the tar/zip archive

说明

public void Phar::addFile ( string $file [, string $localname ] )

With this method, any file or URL can be added to the tar/zip archive. If the
optional second parameter localname is specified, the file will be stored in
the archive with that name, otherwise the file parameter is used as the path to
store within the archive. URLs must have a localname or an exception is thrown.
This method is similar to ZipArchive::addFile().

参数

file

    Full or relative path to a file on disk to be added to the phar archive.

localname

    Path that the file will be stored in the archive.

返回值

no return value, exception is thrown on failure.

范例

Example #1 A PharData::addFile() example

<?php
try {
    $a = new PharData('/path/to/my.tar');

    $a->addFile('/full/path/to/file');
    // demonstrates how this file is stored
    $b = $a['full/path/to/file']->getContent();

    $a->addFile('/full/path/to/file', 'my/file.txt');
    $c = $a['my/file.txt']->getContent();

    // demonstrate URL usage
    $a->addFile('http://www.example.com', 'example.html');
} catch (Exception $e) {
    // handle errors here
}
?>

参见

  • PharData::offsetSet() - set the contents of a file within the tar/zip to
    those of an external file or string
  • Phar::addFile() - 将一个文件从文件系统添加到 phar 档案中
  • PharData::addFromString() - Add a file from the filesystem to the tar/zip
    archive
  • PharData::addEmptyDir() - Add an empty directory to the tar/zip archive

