
dba_optimize

(PHP 4, PHP 5, PHP 7)

dba_optimize — Optimize database

说明

bool dba_optimize ( resource $handle )

dba_optimize() optimizes the underlying database.

参数

handle

    The database handler, returned by dba_open() or dba_popen().

返回值

成功时返回 TRUE，或者在失败时返回 FALSE。

参见

  • dba_sync() - Synchronize database


User Contributed Notes 2 notes

===============================================================================

The difference between "dba_optimize" and "dba_sync":

Use "dba_optimize" to optimize a database, which usually consists of
eliminating gaps between records created by deletes.

The "dba_sync" function will synchronize the view of the database in memory and
its image on the disk. As you insert records, they may be cached in memory by
the underlying engine. Other processes reading from the database will not see
these new records until synchronization.
===============================================================================

Note that the internal structure of each DB that needs to access etherogeneous
data in a *fast* way it is not necessarily space-optimized. So, if you
add-remove-substitute keys with data having different content length, the db
continues to grow, wasting space. So, it is necessary, sometimes, to re-pack
the db in order to remove unused data from the db itself. But it is important
to remind that, even if the file grows, the data remain optimized and -
obviously - the access continues to be fast. Further information are available
at dba_replace() user-contributed notes.
