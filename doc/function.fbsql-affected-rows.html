
fbsql_affected_rows

(PHP 4 >= 4.0.6, PHP 5, PHP 7)

fbsql_affected_rows — Get number of affected rows in previous FrontBase
operation

说明

int fbsql_affected_rows ([ resource $link_identifier ] )

fbsql_affected_rows() returns the number of rows affected by the last INSERT,
UPDATE or DELETE query associated with link_identifier.

    Note:

    If you are using transactions, you need to call fbsql_affected_rows() after
    your INSERT, UPDATE, or DELETE query, not after the commit.

If the last query was a DELETE query with no WHERE clause, all of the records
will have been deleted from the table but this function will return zero.

    Note:

    When using UPDATE, FrontBase will not update columns where the new value is
    the same as the old value. This creates the possibility that 
    fbsql_affected_rows() may not actually equal the number of rows matched,
    only the number of rows that were literally affected by the query.

参数

link_identifier

    由 fbsql_connect() 或 fbsql_pconnect() 返回的 FrontBase 链接标识符.

    如可选并未指定，函数会尝试查找一个到 FrontBase 服务器的开放链接，且如没有找
    到这样的链接，会尝试通过不带参数调用 fbsql_connect() 来创建一个。

返回值

If the last query failed, this function will return -1.

参见

  • fbsql_num_rows() - Get number of rows in result

