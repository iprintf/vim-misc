
Memcache::decrement

(PECL memcache >= 0.2.0)

Memcache::decrement — 减小元素的值

说明

int Memcache::decrement ( string $key [, int $value = 1 ] )

Memcache::decrement()方法将元素的值减小value。类似于 Memcache::increment()方法
，首先将元素当前值转换成数值然后减去value。


    Note:

    新的元素的值不会小于0。

    Note:

    不要将Memcache::decrement()方法用于压缩存储的元素，那样作会导致 
    Memcache::get()方法获取值会失败。

Memcache::decrement()在元素不存在时不能创建它。同样可以使用memcache_decrement()
函数来完成相同的工作。

参数

key

    要减小值的元素的key。

value

    value参数指要将指定元素的值减小多少。

返回值

成功的时候返回元素的新值或者在失败时返回 FALSE

范例

Example #1 Memcache::decrement() example

<?php

/* procedural API */
$memcache_obj = memcache_connect('memcache_host', 11211);
/* 将test_item对应的值减小2 */
$new_value = memcache_decrement($memcache_obj, 'test_item', 2);

/* OO API */
$memcache_obj = new Memcache;
$memcache_obj->connect('memcache_host', 11211);
/* decrement item by 3 */
$new_value = $memcache_obj->decrement('test_item', 3);
?>

参见

  • Memcache::increment() - 增加一个元素的值
  • Memcache::replace() - 替换已经存在的元素的值

