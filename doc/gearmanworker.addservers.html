
GearmanWorker::addServers

(PECL gearman >= 0.5.0)

GearmanWorker::addServers — Add job servers

说明

public bool GearmanWorker::addServers ( string $servers = 127.0.0.1:4730 )

Adds one or more job servers to this worker. These go into a list of servers
that can be used to run jobs. No socket I/O happens here.

参数

servers

    A comma separated list of job servers in the format host:port. If no port
    is specified, it defaults to 4730.

返回值

成功时返回 TRUE，或者在失败时返回 FALSE。

范例

Example #1 Add two job servers

<?php

$worker= new GearmanWorker(); 
$worker->addServers("10.0.0.1,10.0.0.2:7003");

?>

参见

  • GearmanWorker::addServer() - Add a job server


User Contributed Notes 1 note

===============================================================================

as of this note, the current released version of gearman doesn't really work so
well to add multiple servers, although it's fixed in SVN

see: https://bugs.php.net/bug.php?id=59423

if i just add one server to my worker, it works just fine and sits and waits
for a job to do

if I have more than 1 server in my worker, i get a timeout warning which causes
the worker to generate a php notice and the while loop fails.
