
PDF_create_textflow

(PECL pdflib >= 2.0.0)

PDF_create_textflow — Create textflow object

说明

int PDF_create_textflow ( resource $pdfdoc , string $text , string $optlist )

Preprocesses text for later formatting and creates a textflow object.


User Contributed Notes 3 notes

===============================================================================

Textflow not supported in PDFlib Lite
===============================================================================

Not much documentation except the latest Pdflib manual, but either way the
textlen is not required.

I have this and it works for me:

$opts = "fontname={$this->font[0]->_name} fontsize=$font_size encoding=
$font_encoding alignment=$align ";
if ($indent) {
   $opts .= "leftindent=$indent ";
}
$textflow = pdf_create_textflow($this->_pdf,$data,$opts);

I've been working with the pdflib v7 for 2 months now, and since there's
virtually no documentation on anythign except their manual, I recommend reading
it. It's pretty good and detailed.
===============================================================================

I had trouble trouble adding the created textflow to the PDF. The
create_textflow() method always returned 0 no matter how many textFlow I
created until I added "textlen" to the optlist like this :

<?php
$length = strlen($infoJob['descriptionFac']);       
$optlist = "fontname=Helvetica textlen=".$length." fontsize=".$fontSize."
encoding=winansi";
?>

I don't know why, but apparently, in my case, textlen was a mandatory option...
