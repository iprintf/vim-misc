
PharFileInfo::isCompressed

(PHP >= 5.3.0, PECL phar >= 1.0.0)

PharFileInfo::isCompressed — Returns whether the entry is compressed

说明

public bool PharFileInfo::isCompressed ([ int $compression_type = 9021976 ] )

This returns whether a file is compressed within a Phar archive with either
Gzip or Bzip2 compression.

参数

compression_type

    One of Phar::GZ or Phar::BZ2, defaults to any compression.

返回值

TRUE if the file is compressed within the Phar archive, FALSE if not.

范例

Example #1 A PharFileInfo::isCompressed() example

<?php
try {
    $p = new Phar('/path/to/my.phar', 0, 'my.phar');
    $p['myfile.txt'] = 'hi';
    $p['myfile2.txt'] = 'hi';
    $p['myfile2.txt']->setCompressedGZ();
    $file = $p['myfile.txt'];
    $file2 = $p['myfile2.txt'];
    var_dump($file->isCompressed());
    var_dump($file2->isCompressed());
} catch (Exception $e) {
    echo 'Create/modify on phar my.phar failed: ', $e;
}
?>

以上例程会输出：

bool(false)
bool(true)

参见

  • PharFileInfo::getCompressedSize() - Returns the actual size of the file
    (with compression) inside the Phar archive
  • PharFileInfo::decompress() - Decompresses the current Phar entry within the
    phar
  • PharFileInfo::compress() - Compresses the current Phar entry with either
    zlib or bzip2 compression
  • Phar::decompress() - Decompresses the entire Phar archive
  • Phar::compress() - Compresses the entire Phar archive using Gzip or Bzip2
    compression
  • Phar::canCompress() - Returns whether phar extension supports compression
    using either zlib or bzip2
  • Phar::isCompressed() - Returns Phar::GZ or PHAR::BZ2 if the entire phar
    archive is compressed (.tar.gz/tar.bz and so on)
  • Phar::getSupportedCompression() - Return array of supported compression
    algorithms
  • Phar::decompressFiles() - Decompresses all files in the current Phar
    archive
  • Phar::compressFiles() - Compresses all files in the current Phar archive

