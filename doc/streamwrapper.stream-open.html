
streamWrapper::stream_open

(PHP 4 >= 4.3.2, PHP 5, PHP 7)

streamWrapper::stream_open — Opens file or URL

说明

public bool streamWrapper::stream_open ( string $path , string $mode , int
$options , string &$opened_path )

This method is called immediately after the wrapper is initialized (f.e. by 
fopen() and file_get_contents()).

参数

path

    Specifies the URL that was passed to the original function.

        Note:

        The URL can be broken apart with parse_url(). Note that only URLs
        delimited by :// are supported. : and :/ while technically valid URLs,
        are not.

mode

    The mode used to open the file, as detailed for fopen().

        Note:

        Remember to check if the mode is valid for the path requested.

options

    Holds additional flags set by the streams API. It can hold one or more of
    the following values OR'd together.

            Flag                              Description
    STREAM_USE_PATH      If path is relative, search for the resource using the
                         include_path.
                         If this flag is set, you are responsible for raising
    STREAM_REPORT_ERRORS errors using trigger_error() during opening of the
                         stream. If this flag is not set, you should not raise
                         any errors.

opened_path

    If the path is opened successfully, and STREAM_USE_PATH is set in options,
    opened_path should be set to the full path of the file/resource that was
    actually opened.

返回值

成功时返回 TRUE，或者在失败时返回 FALSE。

错误／异常

调用此方法失败将给出 E_WARNING（未实现）。

注释

    Note:

    当合法的上下文传递给调用函数时，属性 streamWrapper::$context 会被改变。

参见

  • fopen() - 打开文件或者 URL
  • parse_url() - 解析 URL，返回其组成部分

