
Memcached::casByKey

(PECL memcached >= 0.1.0)

Memcached::casByKey — 在指定服务器上比较并交换值

说明

public bool Memcached::casByKey ( float $cas_token , string $server_key , 
string $key , mixed $value [, int $expiration ] )

除了可以使用server_key将key自由的映射到指定服务器外， Memcached::casByKey()和
Memcached::cas()在功能上是等同的。这通常用于你需要保持一批相关的key在一个中心服
务器上的情况。(译注: 关于*ByKey系列方法及$server_key的工作原理请参照addByKey方
法文档)

参数

cas_token

    与已存在元素关联的唯一的值，由Memcache生成。

server_key

    本键名用于识别储存和读取值的服务器。没有将实际的键名散列到具体的项目，而是
    在决定与哪一个 memcached 服务器通信时将其散列为服务器键名。这使得关联的项目
    在单一的服务上被组合起来以提高多重操作的效率。

key

    用于存储值的键名。

value

    存储的值。

expiration

    到期时间，默认为 0。更多信息请参见到期时间。

返回值

成功时返回 TRUE，或者在失败时返回 FALSE。如果在元素尝试存储时发现在本客户端最后
一次获取后被其他客户端修改，Memcached::getResultCode() 将返回
Memcached::RES_DATA_EXISTS。

参见

  • Memcached::cas() - 比较并交换值

