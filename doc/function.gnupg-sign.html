
gnupg_sign

(PECL gnupg >= 0.1)

gnupg_sign — Signs a given text

说明

string gnupg_sign ( resource $identifier , string $plaintext )

Signs the given plaintext with the keys, which were set with gnupg_addsignkey
before and returns the signed text or the signature, depending on what was set
with gnupg_setsignmode.

参数

identifier

    gnupg 标识符，由对 gnupg_init() 或 gnupg 的调用生成。

plaintext

    The plain text being signed.

返回值

On success, this function returns the signed text or the signature. On failure,
this function returns FALSE.

范例

Example #1 Procedural gnupg_sign() example

<?php
$res = gnupg_init();
gnupg_addsignkey($res,"8660281B6051D071D94B5B230549F9DC851566DC","test");
$signed = gnupg_sign($res, "just a test");
echo $signed;
?>

Example #2 OO gnupg_sign() example

<?php
$gpg = new gnupg();
$gpg->addsignkey("8660281B6051D071D94B5B230549F9DC851566DC","test");
$signed = $gpg->sign("just a test");
echo $signed;
?>


User Contributed Notes 1 note

===============================================================================

It's a bit confusing how the "keyinfo" for a key returns "can_sign".

If you have only added your Public Key, it will indicate "can_sign" for the key
in "keyinfo", but that doesn't mean yet, that you can sign with the key. You
will also need to add your Private Key to actually make signing work.
