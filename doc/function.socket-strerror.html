
socket_strerror

(PHP 4 >= 4.1.0, PHP 5, PHP 7)

socket_strerror — Return a string describing a socket error

说明

string socket_strerror ( int $errno )

socket_strerror() takes as its errno parameter a socket error code as returned
by socket_last_error() and returns the corresponding explanatory text.

    Note:

    Although the error messages generated by the socket extension are in
    English, the system messages retrieved with this function will appear
    depending on the current locale (LC_MESSAGES).

参数

errno

    A valid socket error number, likely produced by socket_last_error().

返回值

Returns the error message associated with the errno parameter.

范例

Example #1 socket_strerror() example

<?php
if (false == ($socket = @socket_create(AF_INET, SOCK_STREAM, SOL_TCP))) {
   echo "socket_create() failed: reason: " . socket_strerror(socket_last_error
()) . "\n";
}

if (false == (@socket_bind($socket, '127.0.0.1', 80))) {
   echo "socket_bind() failed: reason: " . socket_strerror(socket_last_error(
$socket)) . "\n";
}
?>

The expected output from the above example (assuming the script is not run with
root privileges):

socket_bind() failed: reason: Permission denied

参见

  • socket_accept() - Accepts a connection on a socket
  • socket_bind() - 给套接字绑定名字
  • socket_connect() - 开启一个套接字连接
  • socket_listen() - Listens for a connection on a socket
  • socket_create() - 创建一个套接字（通讯节点）

