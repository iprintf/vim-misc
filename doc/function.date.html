
date

(PHP 4, PHP 5, PHP 7)

date — 格式化一个本地时间／日期

说明

string date ( string $format [, int $timestamp ] )

返回将整数 timestamp 按照给定的格式字串而产生的字符串。如果没有给出时间戳则使用
本地当前时间。换句话说，timestamp 是可选的，默认值为 time()。

Tip

自 PHP 5.1.1 起有几个有用的常量可用作标准的日期／时间格式来指定 format 参数。

Tip

自 PHP 5.1 起在 $_SERVER['REQUEST_TIME'] 中保存了发起该请求时刻的时间戳。

    Note:

    有效的时间戳典型范围是格林威治时间 1901 年 12 月 13 日 20:45:54 到 2038 年
    1 月 19 日 03:14:07。（此范围符合 32 位有符号整数的最小值和最大值）。不过在
    PHP 5.1 之前此范围在某些系统（如 Windows）中限制为从 1970 年 1 月 1 日到
    2038 年 1 月 19 日。

    Note:

    要将字符串表达的时间转换成时间戳，应该使用 strtotime()。此外一些数据库有一
    些函数将其时间格式转换成时间戳（例如 MySQL 的 » UNIX_TIMESTAMP 函数）。

                   格式字串可以识别以下 format 参数的字符串
format                 说明                              返回值例子
 字符
日     ---                                   ---
d      月份中的第几天，有前导零的 2 位数字   01 到 31
D      星期中的第几天，文本表示，3 个字母    Mon 到 Sun
j      月份中的第几天，没有前导零            1 到 31
l（“L”
的小写 星期几，完整的文本格式                Sunday 到 Saturday
字母）
N      ISO-8601 格式数字表示的星期中的第几天 1（表示星期一）到 7（表示星期天）
       （PHP 5.1.0 新加）
S      每月天数后面的英文后缀，2 个字符      st，nd，rd 或者 th。可以和 j 一起
                                             用
w      星期中的第几天，数字表示              0（表示星期天）到 6（表示星期六）
z      年份中的第几天                        0 到 365
星期   ---                                   ---
W      ISO-8601 格式年份中的第几周，每周从星 例如：42（当年的第 42 周）
       期一开始（PHP 4.1.0 新加的）
月     ---                                   ---
F      月份，完整的文本格式，例如 January 或 January 到 December
       者 March
m      数字表示的月份，有前导零              01 到 12
M      三个字母缩写表示的月份                Jan 到 Dec
n      数字表示的月份，没有前导零            1 到 12
t      给定月份所应有的天数                  28 到 31
年     ---                                   ---
L      是否为闰年                            如果是闰年为 1，否则为 0
       ISO-8601 格式年份数字。这和 Y 的值相
o      同，只除了如果 ISO 的星期数（W）属于  Examples: 1999 or 2003
       前一年或下一年，则用那一年。（PHP
       5.1.0 新加）
Y      4 位数字完整表示的年份                例如：1999 或 2003
y      2 位数字表示的年份                    例如：99 或 03
时间   ---                                   ---
a      小写的上午和下午值                    am 或 pm
A      大写的上午和下午值                    AM 或 PM
B      Swatch Internet 标准时                000 到 999
g      小时，12 小时格式，没有前导零         1 到 12
G      小时，24 小时格式，没有前导零         0 到 23
h      小时，12 小时格式，有前导零           01 到 12
H      小时，24 小时格式，有前导零           00 到 23
i      有前导零的分钟数                      00 到 59>
s      秒数，有前导零                        00 到 59>
       毫秒（PHP 5.2.2 新加）。需要注意的是 
u      date() 函数总是返回 000000 因为它只接 示例: 654321
       受 integer 参数，而 DateTime::format
       () 才支持毫秒。
时区   ---                                   ---
e      时区标识（PHP 5.1.0 新加）            例如：UTC，GMT，Atlantic/Azores
I      是否为夏令时                          如果是夏令时为 1，否则为 0
O      与格林威治时间相差的小时数            例如：+0200
P      与格林威治时间（GMT）的差别，小时和分 例如：+02:00
       钟之间有冒号分隔（PHP 5.1.3 新加）
                                             例如：EST，MDT（【译者注】在
T      本机所在的时区                        Windows 下为完整文本格式，例如
                                             “Eastern Standard Time”，中文版会
                                             显示“中国标准时间”）。
       时差偏移量的秒数。UTC 西边的时区偏移
Z      量总是负的，UTC 东边的时区偏移量总是  -43200 到 43200
       正的。
完整的
日期／ ---                                   ---
时间
c      ISO 8601 格式的日期（PHP 5 新加）     2004-02-12T15:19:21+00:00
r      RFC 822 格式的日期                    例如：Thu, 21 Dec 2000 16:01:07
                                             +0200
U      从 Unix 纪元（January 1 1970 00:00:00 参见 time()
       GMT）开始至今的秒数

格式字串中不能被识别的字符将原样显示。Z 格式在使用 gmdate() 时总是返回 0。

Example #1 date() 例子

<?php
// 设定要用的默认时区。自 PHP 5.1 可用
date_default_timezone_set('UTC');


// 输出类似：Monday
echo date("l");

// 输出类似：Monday 15th of August 2005 03:12:46 PM
echo date('l dS \of F Y h:i:s A');

// 输出：July 1, 2000 is on a Saturday
echo "July 1, 2000 is on a " . date("l", mktime(0, 0, 0, 7, 1, 2000));

/* 在格式参数中使用常量 */
// 输出类似：Wed, 25 Sep 2013 15:28:57 -0700
echo date(DATE_RFC2822);

// 输出类似：2000-07-01T00:00:00+00:00
echo date(DATE_ATOM, mktime(0, 0, 0, 7, 1, 2000));
?>

在格式字串中的字符前加上反斜线来转义可以避免它被按照上表解释。如果加上反斜线后
的字符本身就是一个特殊序列，那还要转义反斜线。

Example #2 在 date() 中转义字符

<?php
// prints something like: Wednesday the 15th
echo date("l \\t\h\e jS");
?>

可以把 date() 和 mktime() 函数结合使用来得到未来或过去的日期。

Example #3 date() 和 mktime() 例子

<?php
$tomorrow  = mktime(0, 0, 0, date("m")  , date("d")+1, date("Y"));
$lastmonth = mktime(0, 0, 0, date("m")-1, date("d"),   date("Y"));
$nextyear  = mktime(0, 0, 0, date("m"),   date("d"),   date("Y")+1);
?>


    Note:

    由于夏令时的缘故，这种方法比简单地在时间戳上加减一天或者一个月的秒数更可靠
    。

一些使用 date() 格式化日期的例子。注意要转义所有其它的字符，因为目前有特殊含义
的字符会产生不需要的结果，而其余字符在 PHP 将来的版本中可能会被用上。当转义时，
注意用单引号以避免类似 \n 的字符变成了换行符。

Example #4 date() 格式举例

<?php
// 假定今天是：March 10th, 2001, 5:16:18 pm
$today = date("F j, Y, g:i a");                 // March 10, 2001, 5:16 pm
$today = date("m.d.y");                         // 03.10.01
$today = date("j, n, Y");                       // 10, 3, 2001
$today = date("Ymd");                           // 20010310
$today = date('h-i-s, j-m-y, it is w Day z ');  //
 05-16-17, 10-03-01, 1631 1618 6 Fripm01
$today = date('\i\t \i\s \t\h\e jS \d\a\y.');   // It is the 10th day.
$today = date("D M j G:i:s T Y");               // Sat Mar 10 15:16:08 MST 2001
$today = date('H:m:s \m \i\s\ \m\o\n\t\h');     // 17:03:17 m is month
$today = date("H:i:s");                         // 17:16:17
$today = date("Y-m-d H:i:s");                   // 2001-03-10 17:16:18 （
MySQL DATETIME 格式）
?>

要格式化其它语种的日期，应该用 setlocale() 和 strftime() 函数来代替 date()。

参见 getlastmod()，gmdate()，mktime()，strftime() 和 time()。

参数

format

    输出的日期 string 格式。参见下文中的格式化选项。同时，还可以使用预定义日期
    常量，例如：常量 DATE_RSS 表示格式化字符串 'D, d M Y H:i:s'。

                       format 参数字符串中可识别下列字符
    format 字                   描述                         返回值示例
        符
    天         ---                                    ---
    d          一个月中的第几天，有前导 0 的 2 位数字 从 01 到 31
    D          3 个字符表示的星期几                   从 Mon 到 Sun
    j          一个月中的第几天，无前导 0             从 1 到 31
    l
    (lowercase 星期几，英文全称                       从 Sunday 到 Saturday
    'L')
    N          ISO-8601 规定的数字表示的星期几（PHP   从 1 （表示星期一）到 7
               5.1.0 新加）                           （表示星期日）
    S          一个月中的第几天，带有 2 个字符表示的  st， nd， rd 或者 th。可
               英语序数词。                           以和 j 联合使用。
    w          数字表示的星期几                       从 0 （星期日）到 6 （星
                                                      期六）
    z          一年中的第几天，从 0 开始计数          从 0 到 365
    周         ---                                    ---
    W          ISO-8601 规范的一年中的第几周，周一视  示例： 42 （本年第42周）
               为一周开始。（PHP 4.1.0 新加）
    月         ---                                    ---
    F          月份英文全拼，例如：January 或 March   从 January 到 December
    m          带有 0 前导的数字表示的月份            从 01 到 12
    M          3 个字符表示的月份的英文简拼           从 Jan 到 Dec
    n          月份的数字表示，无前导 0               1 through 12
    t          给定月份中包含多少天                   从 28 到 31
    年         ---                                    ---
    L          是否为闰年                             如果是闰年，则返回 1，反
                                                      之返回 0。
               ISO-8601 规范的年份，同 Y 格式。有一种
               情况除外：当 ISO 的周数（W）属于前一年
    o          或者后一年时，会返回前一年或者后一年的 示例：1999 或 2003
               年份数字表达。属于前一年或者后一年时，
               会返回前一年或者后一年的年份数字表达。
               （PHP 5.1.0 新加）
    Y          4 位数字的年份                         示例：1999 或 2003
    y          2 位数字的年份                         示例： 99 或 03
    时间       ---                                    ---
    a          上午还是下午，2 位小写字符             am 或 pm
    A          上午还是下午，2 位大写字符             AM 或 PM
    B          斯沃琪因特网时间                       从 000 到 999
    g          小时，12时制，无前导 0                 从 1 到 12
    G          小时，24时制，无前导 0                 从 0 到 23
    h          小时，12时制，有前导 0 的 2 位数字     从 01 到 12
    H          小时，24时制，有前导 0 的 2 位数字     00 through 23
    i          分钟，有前导 0 的 2 位数字             从 00 到 59
    s          秒，有前导 0 的 2 位数字               从 00 到 59
    u          毫秒（PHP 5.2.2 新加）                 示例： 654321
    时区       ---                                    ---
    e          时区标识（PHP 5.1.0 新加）             示例: UTC, GMT, Atlantic/
                                                      Azores
    I （大写字 是否夏令时                             如果是夏令时则返回 1，反
    母 i）                                            之返回 0。
    O          和格林威治时间（GMT）的时差，以小时为  示例： +0200
               单位
               和格林威治时间（GMT）的时差，包括小时
    P          和分钟，小时和分钟之间使用冒号（:）分  示例： +02:00
               隔（PHP 5.1.3 新加）
    T          时区缩写                               示例：EST, MDT ...
    Z          以秒为单位的时区偏移量。UTC 以西的时区 从 -43200 到 50400
               返回负数，UTC 以东的时区返回正数。
    完整的日期 ---                                    ---
    /时间
    c          ISO 8601 日期及时间（PHP 5 新加）      2004-02-12T15:19:21+00:00
    r          » RFC 2822 格式的日期和时间            示例：Thu, 21 Dec 2000
                                                      16:01:07 +0200
    U          自 1970 年 1 月 1 日 0 时 0 分 0 秒（  参见time()
               GMT 时间）以来的时间，以秒为单位

    格式化字符串中的不可识别字符将原样输出。当使用 gmdate() 函数时， Z 格式永远
    返回 0。

        Note:

        由于本函数仅接受 integer 类型的时间戳参数，所以 u 格式仅在使用 
        date_format() 函数并且使用 date_create() 函数创建时间戳时才是有用的。

timestamp

    可选的 timestamp 参数是一个 integer 的 Unix 时间戳，如未指定，参数值默认为
    当前本地时间。也就是说，其值默认为 time() 的返回值。

返回值

返回格式化后的日期时间的字符串表达。如果 timestamp 参数不是一个有效数值，则返回
FALSE 并引发 E_WARNING 级别的错误。

错误／异常

在每次调用日期/时间函数时，如果时区无效则会引发 E_NOTICE 错误，如果使用系统设定
值或 TZ 环境变量，则会引发 E_STRICT 或 E_WARNING 消息。参见 
date_default_timezone_set()。

更新日志

版本                                    说明
      时间戳的有效取值范围为 GMT 时间的 1901 年 12 月 13 日至 GMT 时间的 2038
5.1.0 年 1 月 19 日。（32 位有符号整数的取值范围）。但是，在 PHP 5.1.0 之前的版
      本，在某些系统（例如 Windows）上有效取值范围为 1970 年 1 月 1 日至 2038
      年 1 月 19 日。
5.1.0 现在发布 E_STRICT 和 E_NOTICE 时区错误。

5.1.1 format 参数标准的可用日期/时间格式常量见：常量

范例

Example #5 date() 函数示例

<?php
// 设置默认时区。PHP 5.1 之后版本可用
date_default_timezone_set('UTC');


// 输出类似： Monday
echo date("l");

// 输出类似：Monday 8th of August 2005 03:12:46 PM
echo date('l jS \of F Y h:i:s A');

// 输出：July 1, 2000 is on a Saturday
echo "July 1, 2000 is on a " . date("l", mktime(0, 0, 0, 7, 1, 2000));

/* 使用格式常量 */
// 输出类似： Mon, 15 Aug 2005 15:12:46 UTC
echo date(DATE_RFC822);

// 输出类似：2000-07-01T00:00:00+00:00
echo date(DATE_ATOM, mktime(0, 0, 0, 7, 1, 2000));
?>

可以使用反斜线进行转义来阻止函数解析格式字符串中的可识别字符。如果反斜线和要转
义的字符连在一起依然是一个有效的字符序列，那么需要对反斜线再次进行转义。

Example #6 对 date() 函数中的格式字符串进行转义

<?php
// 输出类似： Wednesday the 15th
echo date('l \t\h\e jS');
?>

可以联合使用 date() 和 mktime() 函数来构造之前或者之后的日期时间。

Example #7 date() 和 mktime() 联合使用示例

<?php
$tomorrow  = mktime(0, 0, 0, date("m")  , date("d")+1, date("Y"));
$lastmonth = mktime(0, 0, 0, date("m")-1, date("d"),   date("Y"));
$nextyear  = mktime(0, 0, 0, date("m"),   date("d"),   date("Y")+1);
?>


    Note:

    由于存在夏令时时间，所以此方案相对于直接在时间戳上加/减秒数要更加可靠。

date() 函数格式化的一些示例。需要注意的是，即使是对于当前来说并不具有特殊含义的
字符，也要像对待具有特殊含义的字符那样进行转义，以避免函数返回非预期的值。因为
可能在将来的 PHP 版本中，这些字符会被赋予特殊的含义。进行转义的时候，请确保使用
单引号，以避免 \n 被解释为换行符号。

Example #8 date() 函数格式化

<?php
// 假设今天是 2001 年 3 月 10 日下午 5 点 16 分 18 秒，
// 并且位于山区标准时间（MST）时区

$today = date("F j, Y, g:i a");                 // March 10, 2001, 5:16 pm
$today = date("m.d.y");                         // 03.10.01
$today = date("j, n, Y");                       // 10, 3, 2001
$today = date("Ymd");                           // 20010310
$today = date('h-i-s, j-m-y, it is w Day');     //
 05-16-18, 10-03-01, 1631 1618 6 Satpm01
$today = date('\i\t \i\s \t\h\e jS \d\a\y.');   // it is the 10th day.
$today = date("D M j G:i:s T Y");               // Sat Mar 10 17:16:18 MST 2001
$today = date('H:m:s \m \i\s\ \m\o\n\t\h');     // 17:03:18 m is month
$today = date("H:i:s");                         // 17:16:18
?>

如果需要将日期时间格式化为其他语言，你应该使用 setlocale() 和 strftime() 函数来
替代 date() 函数。

注释

    Note:

    使用 strtotime() 函数将一个字符串表达的日期时间转换为时间戳。另外，一些数据
    库产品也提供了将日期时间格式转换为时间戳的函数。（例如 MySQL 中的
    » UNIX_TIMESTAMP 函数）。

Tip

从 PHP 5.1 版本开始，请求的开始时间可以从变量 $_SERVER['REQUEST_TIME'] 中获取。

参见

  • gmdate() - 格式化一个 GMT/UTC 日期／时间
  • idate() - 将本地时间日期格式化为整数
  • getdate() - 取得日期／时间信息
  • getlastmod() - 获取页面最后修改的时间
  • mktime() - 取得一个日期的 Unix 时间戳
  • strftime() - 根据区域设置格式化本地时间／日期
  • time() - 返回当前的 Unix 时间戳
  • strtotime() - 将任何英文文本的日期时间描述解析为 Unix 时间戳
  • 预定义的日期时间常量


User Contributed Notes 52 notes

===============================================================================

Things to be aware of when using week numbers with years.

<?php
echo date("YW", strtotime("2011-01-07")); // gives 201101
echo date("YW", strtotime("2011-12-31")); // gives 201152
echo date("YW", strtotime("2011-01-01")); // gives 201152 too
?>

BUT

<?php
echo date("oW", strtotime("2011-01-07")); // gives 201101
echo date("oW", strtotime("2011-12-31")); // gives 201152
echo date("oW", strtotime("2011-01-01")); // gives 201052 (Year is different
than previous example)
?>

Reason:
Y is year from the date
o is ISO-8601 year number
W is ISO-8601 week number of year

Conclusion:
if using 'W' for the week number use 'o' for the year.
===============================================================================

If you have a problem with the different time zone, this is the solution for
that.
<?php
// first line of PHP
$defaultTimeZone='UTC';
if(date_default_timezone_get()!=$defaultTimeZone)) date_default_timezone_set(
$defaultTimeZone);

// somewhere in the code
function _date($format="r", $timestamp=false, $timezone=false)
{
    $userTimezone = new DateTimeZone(!empty($timezone) ? $timezone : 'GMT');
    $gmtTimezone = new DateTimeZone('GMT');
    $myDateTime = new DateTime(($timestamp!=false?date("r",(int)$timestamp):
date("r")), $gmtTimezone);
    $offset = $userTimezone->getOffset($myDateTime);
    return date($format, ($timestamp!=false?(int)$timestamp:$myDateTime->format
('U')) + $offset);
}

/* Example */
echo 'System Date/Time: '.date("Y-m-d | h:i:sa").'<br>';
echo 'New York Date/Time: '._date("Y-m-d | h:i:sa", false, 'America/New_York').
'<br>';
echo 'Belgrade Date/Time: '._date("Y-m-d | h:i:sa", false, 'Europe/Belgrade').'
<br>';
echo 'Belgrade Date/Time: '._date("Y-m-d | h:i:sa", 514640700, 'Europe/
Belgrade').'<br>';
?>
This is the best and fastest solution for this problem. Working almost
identical to date() function only as a supplement has the time zone option.
===============================================================================

this how you make an HTML5 <time> tag correctly

<?php

echo '<time datetime="'.date('c').'">'.date('Y - m - d').'</time>';

?>

in the "datetime" attribute you should put a machine-readable value which
represent time , the best value is a full time/date with ISO 8601 ( date('c') )
,,, the attr will be hidden from users

and it doesn't really matter what you put as a shown value to the user,, any
date/time format is okay !

This is very good for SEO especially search engines like Google .
===============================================================================

If timestamp is a string, date converts it to an integer in a possibly
unexpected way:

<?php
echo (int)'0x10'; //0
echo intval('0x10'); //0
echo date('s', '0x10'); //gives 16
//however, no octal conversion:
echo date('s', '010'); //gives 10
?>

(PHP 5.6.16)
===============================================================================

For HTML5 datetime-local HTML input controls (http://www.w3.org/TR/html-markup/
input.datetime-local.html) use format example: 1996-12-19T16:39:57

To generate this, escape the 'T', as shown below:

<?php
date('Y-m-d\TH:i:s');
?>
===============================================================================

I just wanted to emphasise that the return value of date( ) is a string, even
when the result of your date format string is a number, such as "j" -> a number
1 to 31, or 'N' -> a day number 1 for Monday through 7 for Sunday... it's still
returned as a string! "1" or "7" or "31". This is much more obvious on the
"zero-padded" results, but it's worth repeating.

If you aren't careful, you can get stuck in a while loop comparing days of the
week with something like:

<?php
  // Evil! Don't use this! This will never return!
   while ( date('N', $time ) !== 7 ) {
        $time = $time - 86400;
   }
?>

... for example. The result of date( ) should be cast to an int for numeric
comparison with the exact equality operator:

<?php
  // Works!
   while ( (int)date('N', $time ) !== 7 ) {
        $time = $time - 86400;
   }
?>

Wasted an hour today on that silly mistake.
===============================================================================

Thanks to tcasparr at gmail dot com for the great idea (at least for me) ;)
I changed the code a little to replicate the functionality of
date_parse_from_format, once I don't have PHP 5.3.0 yet. This might be useful
for someone. Hope you don't mind changing your code tcasparr at gmail dot com.

<?php
/*******************************************************
* Simple function to take in a date format and return array of associated
* formats for each date element
*
* @return array
* @param string $strFormat
*
* Example: Y/m/d g:i:s becomes
* Array
* (
*     [year] => Y
*     [month] => m
*     [day] => d
*     [hour] => g
*     [minute] => i
*     [second] => s
* )
*
*  This function is needed for  PHP < 5.3.0
********************************************************/
function dateParseFromFormat($stFormat, $stData)
{
    $aDataRet = array();
    $aPieces = split('[:/.\ \-]', $stFormat);
    $aDatePart = split('[:/.\ \-]', $stData);
    foreach($aPieces as $key=>$chPiece)   
    {
        switch ($chPiece)
        {
            case 'd':
            case 'j':
                $aDataRet['day'] = $aDatePart[$key];
                break;
               
            case 'F':
            case 'M':
            case 'm':
            case 'n':
                $aDataRet['month'] = $aDatePart[$key];
                break;
               
            case 'o':
            case 'Y':
            case 'y':
                $aDataRet['year'] = $aDatePart[$key];
                break;
           
            case 'g':
            case 'G':
            case 'h':
            case 'H':
                $aDataRet['hour'] = $aDatePart[$key];
                break;   
               
            case 'i':
                $aDataRet['minute'] = $aDatePart[$key];
                break;
               
            case 's':
                $aDataRet['second'] = $aDatePart[$key];
                break;           
        }
       
    }
    return $aDataRet;
}
?>

Also, if you need to change the format of dates:

<?php
function changeDateFormat($stDate,$stFormatFrom,$stFormatTo)
{
  // When PHP 5.3.0 becomes available to me
  //$date = date_parse_from_format($stFormatFrom,$stDate);
  //For now I use the function above
  $date = dateParseFromFormat($stFormatFrom,$stDate);
  return date($stFormatTo,mktime($date['hour'],
                                    $date['minute'],
                                    $date['second'],
                                    $date['month'],
                                    $date['day'],
                                    $date['year']));
}

?>
===============================================================================

If you want to use HTML5's <date> tag, the following code will generate the
machine-readable value for the 'datetime' attribute:

<?php

/**
* formats the date passed into format required by 'datetime' attribute of
<date> tag
* if no intDate supplied, uses current date.
* @param intDate integer optional
* @return string
**/
function getDateTimeValue( $intDate = null ) {

    $strFormat = 'Y-m-d\TH:i:s.uP';
    $strDate = $intDate ? date( $strFormat, $intDate ) : date( $strFormat ) ;
   
    return $strDate;
}

echo getDateTimeValue();

?>
===============================================================================

FYI: there's a list of constants with predefined formats on the DateTime
object, for example instead of outputting ISO 8601 dates with:

<?php
echo date('c');
?>

or

<?php
echo date('Y-m-d\TH:i:sO');
?>

You can use

<?php
echo date(DateTime::ISO8601);
?>

instead, which is much easier to read.
===============================================================================

<?php
/**
* Convert a strftime format to a date format
*
* Unsupported strftime formats : %U, %W, %C, %g, %r, %R, %T, %X, %c, %D, %F, %x
* Unsupported date formats : S, n, t, L, B, G, u, e, I, P, Z, c, r
*
* @param string $strftimeFormat a strftime format
* @return string
*/
function strftimeFormatToDate($strftimeFormat) {

    $caracs = array(
        "%d" => "d",
        "%a" => "D",
        "%e" => "j",
        "%A" => "l",
        "%u" => "N",
        "%w" => "w",
        "%j" => "z",
        "%V" => "W",
        "%B" => "F",
        "%m" => "m",
        "%b" => "M",
        "%G" => "o",
        "%Y" => "Y",
        "%y" => "y",
        "%P" => "a",
        "%p" => "A",
        "%l" => "g",
        "%I" => "h",
        "%H" => "H",
        "%M" => "i",
        "%S" => "s",
        "%z" => "O",
        "%Z" => "T",
        "%s" => "U",
    );
    return strtr((string)$strftimeFormat, $caracs);
}

$strftimeFormat = '%Y-%m-%d %H:%M:%S';
$formatDate = strftimeFormatToDate($strftimeFormat); // Y-m-d H:i:s
?>
===============================================================================

If you are having an issue getting u to work so is everyone else. The solution
that I am using which I found on another site(so not taking credit) is to use
this:

     date("Y/m/d H:i:s"). substr((string)microtime(), 1, 6);

that will give you:

     yyyy/mm/dd hh:ii:ss.uuuuuu

hope this helps someone in need!

thanks all
===============================================================================

in some cases you can't or don't like to change the setlocal(), but you want to
get a translated date(). This function is an example for a geman
translation-table.

function ddate ($format,$timestamp) {

$trans = array(
    'Monday'    => 'Montag',
    'Tuesday'   => 'Dienstag',
    'Wednesday' => 'Mittwoch',
    'Thursday'  => 'Donnerstag',
    'Friday'    => 'Freitag',
    'Saturday'  => 'Samstag',
    'Sunday'    => 'Sonntag',
    'Mon'       => 'Mo',
    'Tue'       => 'Di',
    'Wed'       => 'Mi',
    'Thu'       => 'Do',
    'Fri'       => 'Fr',
    'Sat'       => 'Sa',
    'Sun'       => 'So',
    'January'   => 'Januar',
    'February'  => 'Februar',
    'March'     => 'M&auml;rz',
    'May'       => 'Mai',
    'June'      => 'Juni',
    'July'      => 'Juli',
    'October'   => 'Oktober',
    'December'  => 'Dezember',
    'Mar'       => 'M&auml;r',
    'Oct'       => 'Okt',
    'Dec'       => 'Dez',
);

return strtr(date($format,$timestamp),$trans);

}
===============================================================================

For Microseconds, we can get by following:

echo date('Ymd His'.substr((string)microtime(), 1, 8).' e');

Thought, it might be useful to someone !
===============================================================================

Here's my solution for looking up the month number by name (used when parsing
an 'ls'):

<?php
  for($m=1;$m<=12;$m++){
    $month=date("M",mktime(0,0,0,$m,1,2000));
    $mon["$month"]=$m;
  }
?>
===============================================================================

Note that some formatting options are different from MySQL.
For example using a 24 hour notation without leading zeros is the option '%G'
in PHP but '%k' in MySQL.
When using dynamically generated date formatting string, be careful to generate
the correct options for either PHP or MySQL.
===============================================================================

Correct format for a MySQL DATETIME column is
<?php $mysqltime = date ("Y-m-d H:i:s", $phptime); ?>
===============================================================================

The following function will return the date (on the Gregorian calendar) for
Orthodox Easter (Pascha).  Note that incorrect results will be returned for
years less than 1601 or greater than 2399. This is because the Julian calendar
(from which the Easter date is calculated) deviates from the Gregorian by one
day for each century-year that is NOT a leap-year, i.e. the century is
divisible by 4 but not by 10.  (In the old Julian reckoning, EVERY 4th year was
a leap-year.)

This algorithm was first proposed by the mathematician/physicist Gauss.  Its
complexity derives from the fact that the calculation is based on a combination
of solar and lunar calendars.

<?php
function getOrthodoxEaster($date){
  /*
   Takes any Gregorian date and returns the Gregorian
   date of Orthodox Easter for that year.
  */
  $year = date("Y", $date);
  $r1 = $year % 19;
  $r2 = $year % 4;
  $r3 = $year % 7;
  $ra = 19 * $r1 + 16;
  $r4 = $ra % 30;
  $rb = 2 * $r2 + 4 * $r3 + 6 * $r4;
  $r5 = $rb % 7;
  $rc = $r4 + $r5;
  //Orthodox Easter for this year will fall $rc days after April 3
  return strtotime("3 April $year + $rc days");
}
?>
===============================================================================

It's common for us to overthink the complexity of date/time calculations and
underthink the power and flexibility of PHP's built-in functions.  Consider
http://php.net/manual/en/function.date.php#108613

<?php
function get_time_string($seconds)
{
    return date('H:i:s', strtotime("2000-01-01 + $seconds SECONDS"));
}
===============================================================================

To quickly convert date("N") to a 0 based index with Sunday being represented
as 0, you can run it against modulus 7:

<?php
$first_of_month_index = date('N', strtotime('4/1/1990')) % 7;
?>
===============================================================================

In order to determine if a year is a leap year an earlier poster suggested
simply checking to see if the year is a multiple of four:

<?php
function is_leapyear_broken($year = 2004) {
return ($year%4)==0;
}
?>

While this will work for the majority of years it will not work on years that
are multiples of 100 but not multiples of 400 i.e.(2100).
A function not using php's date() function that will also account for this
small anomaly in leap years:

<?php
function is_leapyear_working($year = 2004) {
    if((($year%4==0) && ($year%100!=0)) || $year%400==0) {
        return true;
    }
    return false;
}
?>

While is_leapyear_working will not return true for the few non-leap years
divisible by four I couldn't tell you if this is more or less efficient than
using php's date() as an even earlier poster suggested:

<?php
function is_leapyear($year = 2004) {
$is_leap = date('L', strtotime("$year-1-1"));
return $is_leap;
}
?>
===============================================================================

I use the function below to calculate the Unix timestamp of the start of a
week. It includes a boolean flag to request a GMT offset instead of the current
locale setting.

<?php

function getWeekOffsetTimestamp($year, $week, $useGmt = false) {
        if ($useGmt) {
                // Backup timezone and set to GMT
                $timezoneSettingBackup = date_default_timezone_get();
                date_default_timezone_set("GMT");
        }

        // According to ISO-8601, January 4th is always in week 1
        $halfwayTheWeek = strtotime($year."0104 +".($week - 1)." weeks");

        // Subtract days to Monday
        $dayOfTheWeek = date("N", $halfwayTheWeek);
        $daysToSubtract = $dayOfTheWeek - 1;

        // Calculate the week's timestamp
        $unixTimestamp = strtotime("-$daysToSubtract day", $halfwayTheWeek);

        if ($useGmt) {
                // Reset timezone to backup
                date_default_timezone_set($timezoneSettingBackup);
        }

        return $unixTimestamp;
}

?>
===============================================================================

This function will add working day to a given timestamp

<?php
function addworkinday($timestamp,$daystoadd){
    
     $dayoftheweek = date("N",$timestamp);
     $sum =$dayoftheweek +$daystoadd;
    
while ($sum >= 6) {
    
     $daystoadd=$daystoadd+1;
    $sum=$sum-1;
}
return $timestamp +(60*60*24*$daystoadd);

}
?>
===============================================================================

I've been flicking through the comments looking for some succinct date code and
have noticed an alarming number of questions and over-burdened examples related
to date mathematics. One of the most useful skills you can utilize when
performing date math is taking full advantage of the UNIX timestamp. The UNIX
timestamp was built for this kind of work.

An example of this relates to a comment made by james at
bandit-dot-co-dot-en-zed. James was looking for a way to calculate the number
of days which have passed since a certain date. Rather than using mktime() and
a loop, James can subtract the current timestamp from the timestamp of the date
in question and divide that by the number of seconds in a day:
<?php
$days = floor((time() - strtotime("01-Jan-2006"))/86400);
print("$days days have passed.\n");
?>

Another usage could find itself in a class submitted by Kyle M Hall which aids
in the creation of timestamps from the recent past for use with MySQL. Rather
than the looping and fine tuning of a date, Kyle can use the raw UNIX
timestamps (this is untested code):
<?php
$ago = 14; // days
$timestamp = time() - ($ago * 86400);
?>

Hopefully these two examples of "UNIX-style" timestamp usage will help those
finding date mathematics more elusive than it should be.
===============================================================================

Most spreadsheet programs have a rather nice little built-in function called
NETWORKDAYS to calculate the number of business days (i.e. Monday-Friday,
excluding holidays) between any two given dates. I couldn't find a simple way
to do that in PHP, so I threw this together. It replicates the functionality of
OpenOffice's NETWORKDAYS function - you give it a start date, an end date, and
an array of any holidays you want skipped, and it'll tell you the number of
business days (inclusive of the start and end days!) between them.

I've tested it pretty strenuously but date arithmetic is complicated and
there's always the possibility I missed something, so please feel free to check
my math.

The function could certainly be made much more powerful, to allow you to set
different days to be ignored (e.g. "skip all Fridays and Saturdays but include
Sundays") or to set up dates that should always be skipped (e.g. "skip July 4th
in any year, skip the first Monday in September in any year"). But that's a
project for another time.

<?php

function networkdays($s, $e, $holidays = array()) {
    // If the start and end dates are given in the wrong order, flip them.   
    if ($s > $e)
        return networkdays($e, $s, $holidays);

    // Find the ISO-8601 day of the week for the two dates.
    $sd = date("N", $s);
    $ed = date("N", $e);

    // Find the number of weeks between the dates.
    $w = floor(($e - $s)/(86400*7));    # Divide the difference in the two
times by seven days to get the number of weeks.
    if ($ed >= $sd) { $w--; }        # If the end date falls on the same day of
the week or a later day of the week than the start date, subtract a week.

    // Calculate net working days.
    $nwd = max(6 - $sd, 0);    # If the start day is Saturday or Sunday, add
zero, otherewise add six minus the weekday number.
    $nwd += min($ed, 5);    # If the end day is Saturday or Sunday, add five,
otherwise add the weekday number.
    $nwd += $w * 5;        # Add five days for each week in between.

    // Iterate through the array of holidays. For each holiday between the
start and end dates that isn't a Saturday or a Sunday, remove one day.
    foreach ($holidays as $h) {
        $h = strtotime($h);
        if ($h > $s && $h < $e && date("N", $h) < 6)
            $nwd--;
    }

    return $nwd;
}

$start = strtotime("1 January 2010");
$end = strtotime("13 December 2010");

// Add as many holidays as desired.
$holidays = array();
$holidays[] = "4 July 2010";            // Falls on a Sunday; doesn't affect
count
$holidays[] = "6 September 2010";        // Falls on a Monday; reduces count by
one

echo networkdays($start, $end, $holidays);    // Returns 246

?>

Or, if you just want to know how many work days there are in any given year,
here's a quick function for that one:

<?php

function workdaysinyear($y) {
    $j1 = mktime(0,0,0,1,1,$y);
    if (date("L", $j1)) {
        if (date("N", $j1) == 6)
            return 260;
        elseif (date("N", $j1) == 5 or date("N", $j1) == 7)
            return 261;
        else
            return 262;
    }
    else {
        if (date("N", $j1) == 6 or date("N", $j1) == 7)
            return 260;
        else
            return 261;
    }
}

?>
===============================================================================

When using 'U' to return a UNIX time stamp, you may not get what you expect. In
the following example, we try to get the current Unix time stamp for a user in
a different timezone.

<?php
// Doesn't work
$timezone = new \DateTimeZone($userTimeZone);
$date = new \DateTime('@' . time(), $timezone);
$date->setTimezone($timezone);
$now = $date->format('U');
?>

$now will return the same (the server's current) Unix time stamp regardless
which timezone your user is in.

To get the actual Unix time stamp based on a time zone, replace format('U') as
in the following example;

<?php
// This works
$timezone = new \DateTimeZone($userTimeZone);
$date = new \DateTime('@' . time(), $timezone);
$date->setTimezone($timezone);
$now = $date->getTimestamp() + $date->getOffset();
?>
===============================================================================

To actually make use ot the "u" (microsecond) you need to use the DateTime
object and not the date() function.

For example

<?php
$t = microtime(true);
$micro = sprintf("%06d",($t - floor($t)) * 1000000);
$d = new DateTime( date('Y-m-d H:i:s.'.$micro,$t) );

print $d->format("Y-m-d H:i:s.u");
?>
===============================================================================

Not sure why this got ignored the first time, but this is an even simpler way
to check leap year:

<?php
function isLeapYear($year)
    { return ((($year%4==0) && ($year%100)) || $year%400==0) ? (true):(false);
}
?>
===============================================================================

Sometimes it is very useful to convert a sql timestamp to an also called NTP
time. This is often used as time date notation in XML RSS pages. To convert a
timestamp to this NTP notation try the following:

<?php
  echo date('D, d M Y h:i:s O', strtotime ($timestamp);
?>
===============================================================================

If you want to compare this week with the same week last year, here is some
code to get you the time at the beginning of the week.  You can then add days,
hours, etc to get to the day of the week that you want to know about.

<?php
        $time_passed = (date('N')-1)* 24 * 3600; // time since start of week in
days
        $startOfWeek = mktime(0,0,0,date('m'),date('d'),date('Y')) - 
$time_passed;
       
   
        $lastyear = $startOfWeek - 365*24*3600;   

        // make sure time used from last year is the same week of the year   
        $weekdiff = date('W') - date('W',$lastyear);
        if($weekdiff != 0)
        {
            $lastyear = $lastyear + ($weekdiff*7*24*3600);
        }
       
        $lastyear_time_passed = (date('N',$lastyear)-1) * 24 * 3600; // time
since start of week in days
       
        $startOfWeek_lastyear = mktime(0,0,0,date('m',$lastyear),date('d',
$lastyear),date('Y',$lastyear)) - $lastyear_time_passed;
?>

So now you have the unix time for the start of this week ($startOfWeek), and
the start of the same week last year ($startOfWeek_lastyear).

You can convert back to datetime format easily:

<?php
        echo date('Y-m-d H:i:s',$startOfWeek).'<br>';
        echo date('Y-m-d H:i:s',$startOfWeek_lastyear).'<br><br>';
       
        echo date('l F jS, Y',$startOfWeek).'<br>';
        echo date('l F jS, Y',$startOfWeek_lastyear);
?>
===============================================================================

Here is a cool Date class to implement the date function:

<?php
/*
* @author    Gchats
*
* Date class
*/
class Date
{   
    private $shortDateFormat = "F j, Y";
    private $longDateFormat = "F j, Y, g:i a";
    private $timestamp = 0;
   
    /**
    * Default constructor
    *
    * @param    integer        $timestamp    unix time stamp
    */
    function __construct($timestamp = 0)
    {
        $this->timestamp = $timestamp;
    }
   
    /**
    * Returns the given timestamp in the constructor
    *
    * @return    integer        time stamp
    */
    public function getTime()
    {
        return (int) $this->timestamp;
    }
   
    /*
     * Returns long formatted date of the given timestamp
     *
     * @access public
     * @return     string    Long formatted date
     */
    public function long()
    {
        if ( $this->timestamp > 0 )
        {
            return date ( $this->longDateFormat , $this->timestamp );
        }
        else
        {
            return "";
        }
    }

    /*
     * Returns short formatted date of the given timestamp
     *
     * @access public
     * @return     string    Short formatted date
     */   
    public function short()
    {
        if ( $this->timestamp > 0 )
        {
            return date ( $this->shortDateFormat , $this->timestamp );
        }
        else
        {
            return "";
        }
    }
   
    public function __toString()
    {
        return $this->timestamp;
    }
   
}
?>
===============================================================================

Use this to convert the local/UTC hour to the UTC/local hour:

<?php
for($utc_to_local = array(), $offset = date('Z'), $h = 0; $h < 24; 
$utc_to_local[] = date('G', mktime($h++)+$offset));
$local_to_utc = array_flip($utc_to_local);

echo "2 am local is ", $local_to_utc[2], " UTC";
echo "3 pm UTC is ", $utc_to_local[15], " local";
?>

This is useful when you need to do many conversions. Lookup tables are faster
than calling date() and mktime() multiple times.
===============================================================================

If anyone needs a really fast function for converting a datetime string (i.e.
as retrieved from a MySQL DATETIME entry) into a human-friendly time output
analogous to date($format, $time), here's a useful function.

<?php
function fdate($datetimestring = '1970-01-01 00:00:00', $format = 'U') {
  // Create a datetime object, return it formatted
  // If you want to give credit for this somewhere, thanks.
  // You really don't have to though; this is kinda obvious
  $dt = new DateTime($datetimestring);
  return $dt->format($format);
}
?>

The main purpose of this is to reduce lines of code and allow inline coding.
For example:
<?php
/* ... */
echo "This page was submitted on ".fdate($row['created'], 'F j, Y g:i:s A')."
and last modified ".fdate($row['modified'], 'F j, Y g:i:s A')."<br />\n";
/* ... */
?>
===============================================================================

<?
/**
     * This function gives you the next working days based on the buffer
     *
     * @param $date must be in YYYY-MM-DD format
     * @param int $buffer
     * @param string $holidays - You can pass either an array of holidays in
YYYYYMMDD format or a URL for a .ics file
     * containing holidays this defaults to the UK govt holiday data for
England and Wales
     * @return string
     */
   
    function getWorkingDays($date,$buffer=1,$holidays='') {
        if ($holidays==='') $holidays = 'https://www.gov.uk/bank-holidays/
england-and-wales.ics';

        if (!is_array($holidays)) {
            $ch = curl_init($holidays);
            curl_setopt($ch,CURLOPT_RETURNTRANSFER,true);
            $ics = curl_exec($ch);
            curl_close($ch);
            $ics = explode("\n",$ics);
            $ics = preg_grep('/^DTSTART;/',$ics);
            $holidays = preg_replace('/^DTSTART;VALUE=DATE:(\\d{4})(\\d{2})(\\d
{2}).*/s','$1-$2-$3',$ics);
        }

        $addDay = 0;
        while ($buffer--) {
            while (true) {
                $addDay++;
                $newDate = date('Y-m-d', strtotime("$date +$addDay Days"));
                $newDayOfWeek = date('w', strtotime($newDate));
                if ( $newDayOfWeek>0 && $newDayOfWeek<6 && !in_array
($newDate,$holidays)) break;
            }
        }

        return $newDate;
    }

    ?>
===============================================================================

Just FYI, it's more appropriate to say "UTC", not "GMT". GMT was given up in
1972 and UTC is now the proper way. The reason being G stands for Greenwich,
which naturally upset some people.
===============================================================================

<?php
// A demonstration of the new DateTime class for those
// trying to use dates before 1970 or after 2038.
?>
<h2>PHP 2038 date bug demo (php version <?php echo phpversion(); ?>)</h1>
<div style='float:left;margin-right:3em;'>
<h3>OLD Buggy date()</h3>
<?php
  $format='F j, Y';
  for ( $i = 1900; $i < 2050; $i++) {
    $datep = "$i-01-01";
    ?>
    Trying: <?php echo $datep; ?> = <?php echo date($format, strtotime($datep
)); ?><br>
    <?php
  }
?></div>
<div style='float:left;'>
  <h3>NEW DateTime Class (v 5.2+)</h3><?php
  for ( $i = 1900; $i < 2050; $i++) {
    $datep = "$i-01-01";
    $date = new DateTime($datep);
    ?>
    Trying: <?php echo $datep; ?> = <?php echo $date->format($format); ?><br>
    <?php
  }
?></div>
===============================================================================

I needed to convet a duration timestamp into H:i:s but whenever I did it kept
bringing 5 back as 01:00:05 (due to some DST stuff) so I made this function to
replace date(). It has no optimisations but hopefully someone might find it
useful:

<?php
    function get_time_string(){
        $time = 3600+(60*32)+(50); // 01:32:50
        $time_string = '';

        $hours = (int)($time/(60*60));
        if(strlen($hours) > 1){
            $time_string = $hours.':';
        }else{
            $time_string = '0'.$hours.':';
        }

        $minutes = (int)(($time%(60*60))/(60));
        if($minutes >= 1){
            if(strlen($minutes) > 1){
                $time_string .= $minutes.':';
            }else{
                $time_string .= '0'.$minutes.':';
            }

            $seconds = ($time%(60*60))%(60);
            if(strlen($seconds) > 1){
                $time_string .= $seconds;
            }else{
                $time_string .= '0'.$seconds;
            }
        }else{
            if(strlen($time) > 1){
                $time_string .= '00:'.$time;
            }else{
                $time_string .= '00:0'.$time;
            }
        }
        return $time_string;
    }
?>
===============================================================================

<?php
//date returns microseconds.
function mdate($format, $microtime = null) {
        $microtime = explode(' ', ($microtime ? $microtime : microtime()));
        if (count($microtime) != 2) return false;
        $microtime[0] = $microtime[0] * 1000000;
        $format = str_replace('u', $microtime[0], $format);
        return date($format, $microtime[1]);
    }
?>

echo mdate('Y-m-d H:i:s.u');

2014-05-19 12:41:59.202303
===============================================================================

<?php
/* the following variables are set to appropriate
  characters recognized by php version 5 that
  will get the date. To display the date, we have
  to use 'echo' or 'print' to send the variable
  data to the browser
*/

$day=date("l");
$date=date("j");
$suffix=date("S");
$month=date("F");
$year=date("Y");
echo $day . ", " . $month . " " . $date . $suffix . ", " . $year;
?>

rudimentary, simple way to due things, but it gets the job done for someone
learning more on the subject.
===============================================================================

If you want to find your server's timezone offset from GMT, it seems as though
you could just do:

date('Z')

to get the number of seconds offset. But PHP requires that you call
date_default_timezone_set().  So if you have to hard-code a timezone, why not
simply hard-code a variable that tells you the offset from GMT?  If you set the
timezone to GMT, the dates in your database will still be in local time, but
time('Z') will return zero.

To keep your code portable across servers in different timezones, you can do
this:

date_default_timezone_set(date_default_timezone_get())

This keeps PHP from complaining that you haven't called
date_default_timezone_set(), but makes your code portable.  Ridiculous.
===============================================================================

Was trying to compare dates when I noticed that:

<?php

var_dump(date('d.m.Y', null));//string(10) "01.01.1970"
var_dump(date('d.m.Y', ''));//bool(false)

?>

Thought it's worth mentioning. Caused some weird logs to be produced in our
system since this does not evaluate to the same.
===============================================================================

To find last sunday for given date

<?php
         $day = '2012-10-04';
         echo 'last sunday :  '.date("Y-m-d",strtotime($day." last Sunday "));
?>

output:

last sunday : 2012-09-30
===============================================================================

date("W") returns the iso8601 week number, while date("Y") returns the
_current_ year. This can lead to odd results. For example today (dec 31, 2007)
it returns 1 for the week and of course 2007 for the year. This is not wrong in
a strict sense because iso defines this week as the first of 2008 while we
still have 2007.

So, if you don't have another way to safely retrieve the year according to the
iso8061 week-date - strftime("%G") doesn't work on some systems -, you should
be careful when working with date("W").

For most cases strftime("%W") should be a safe replacement.

[edit: Much easier is to use "o" (lower case O) instead of "Y"]
===============================================================================

As of PHP 5.3.3, date('c') will produce a string like this:

2014-06-17T16:22:42+02:00

Instead date (DATE_ISO8601) will produce:

2014-06-17T16:23:36+0200

which lacks the semicolon in the timezone part. Both are ISO8601 compliant
anyway, but I found that the latter has better compatibility with other
languages like python.
===============================================================================

here is an example how you can make numeric days of the week from 1 to 7(Monday
to Friday)

<?php
$currentdate  = mktime(0, 0, 0, date("m")  , date("d"), date("Y"));
     echo $day_eg1 = date ('N',$currentdate);
      echo $day_eg2 = date("N", $today+1 * 24 * 3600);
    echo $day_eg3= date("N", $today+2 * 24 * 3600);
    echo $day_eg4 = date("N", $today+3 * 24 * 3600);
    echo $day_eg5 = date("N", $today+4 * 24 * 3600);
    echo $day_eg6 = date("N", $today+5 * 24 * 3600);
    echo $day_eg7 = date("N", $today+6 * 24 * 3600);
?>
===============================================================================

It was oblivious and discouraging that it dont mentioned in docs. If you will
use W to get week number be aware:
first days of year can be in a week of previous year, and week number always
has leading zero

<?php

echo date("YW", strtotime("2011-01-07")); // gives 201101
echo date("YW", strtotime("2011-01-01")); // gives 201152
echo date("YW", strtotime("2011-12-31")); // gives 201152 too

?>

so you can`t rely on number of week given from this function inside your
program if you want to use it for some logic
===============================================================================

<?php
/**
     * Checks wether a date is between an interval
     *
     * Usage:
     *     
     * // check if today is older than 2008/12/31
     * var_dump(currentDayIsInInterval('2008/12/31'));
     * // check if today is younger than 2008/12/31
     * var_dump(currentDayIsInInterval(null,'2008/12/31'));
     * // check if today is between 2008/12/01 and 2008/12/31
     * var_dump(currentDayIsInInterval('2008/12/01','2008/12/31')); 
     *
     * Will trigger errors if date is in wrong format, notices if $begin >
$end    
     *         
     * @param string $begin Date string as YYYY/mm/dd
     * @param string $end Date string as YYYY/mm/dd
     * @return bool 
     */
function currentDayIsInInterval($begin = '',$end = '')
{
        $preg_exp = '"[0-9][0-9][0-9][0-9]/[0-9][0-9]/[0-9][0-9]"';
        $preg_error = 'Wrong parameter passed to function '.__FUNCTION__.' :
Invalide date
format. Please use YYYY/mm/dd.';
        $interval_error = 'First parameter in '.__FUNCTION__.' should be
smaller than
second.';
        if(empty($begin))
        {
                $begin = 0;
        }
        else
        {
                if(preg_match($preg_exp,$begin))
                {
                        $begin = (int)str_replace('/','',$begin);
                }
                else
                {
                        trigger_error($preg_error,E_USER_ERROR);
                }
        }
        if(empty($end))
        {
                $end = 99999999;
        }
        else
        {
                if(preg_match($preg_exp,$end))
                {
                        $end = (int)str_replace('/','',$end);
                }
                else
                {
                        trigger_error($preg_error,E_USER_ERROR);
                }
        }
        if($end < $begin)
        {
                trigger_error($interval_error,E_USER_WARNING);
        }
        $time = time();
        $now = (int)(date('Y',$time).date('m',$time).date('j',$time));
        if($now > $end or $now < $begin)
        {
                return false;
        }
        return true;
}
?>
===============================================================================

If you want to print something like: Tuesday, the 14th of January, 2014

Use this:

<?php
echo date("l", strtotime("now")).', the'.date(" jS", strtotime("now")).' of'.
date(" F, Y", strtotime("now"));
?>

This is because you cannot use words in the date string. If you use words in
the date string it will be seen as a format character

So if you use:

<?php
echo date("l, the jS of F, Y", strtotime("now"));
?>

It will print something like: Tuesday, 3108Europe/Berlin 14th 2014f January,
2014
===============================================================================

I recommend to use "/" instead of "-" when creating dates:

<?
    if( date( 'd/m' ) >= date_create( '01/09' ) ) { }
?>
===============================================================================

That  is just too hard anyone have it easier terms for a lad who only has
internet for 5 mis a day cause he has to walk his pet peanut
===============================================================================

When using date(), be sure to "double-escape" certain characters, for example,
if printing the word "at", double escape "t" otherwise it will be treated as
"tab" simply leading to a space being inserted.

Example:
<?php echo "Last updated ".date("M j<\s\u\p>S</\s\u\p\>, Y \a\\t h:i A"); ?>

will output
Last updated Aug 23rd 2015 at 2:47 PM

(assuming today is Aug 23rd 2015 and it is 2:47 PM)
===============================================================================

If you want to use "u" format specifier for micrseconds without changing to
DateTime object, you may write a function as below:
<?php
/**
* Quick replacement to date() function to handle the 'u' format specifier (for
microseconds)
* @param string $format Date format string - the same format string you would
pass to date() function
* @param float $timestamp [optional] Unix timestamp with microseconds -
Typically output of <b>microtime(true)</b>
* @return string Formatted string
*/
function date_with_micro($format, $timestamp = null) {
    if (is_null($timestamp) || $timestamp === false) {
        $timestamp = microtime(true);
    }
    $timestamp_int = (int) floor($timestamp);
    $microseconds = (int) round(($timestamp - floor($timestamp)) * 1000000.0, 0
);
    $format_with_micro = str_replace("u", $microseconds, $format);
    return date($format_with_micro, $timestamp_int);
}
?>

You can safely replace your date() function with date_with_micro().
===============================================================================

date() has some strange behavior at extremely high values:

<?php
echo "9223372036854775805: " . date("Y-m-d g:i:s a",  9223372036854775805) . "\
n";
echo "9223372036854775806: " . date("Y-m-d g:i:s a",  9223372036854775806) . "\
n";
echo "9223372036854775807: " . date("Y-m-d g:i:s a",  9223372036854775807) . "
(0x7FFFFFFFFFFFFFFF)\n";
echo "9223372036854775808: " . date("Y-m-d g:i:s a",  9223372036854775808) . "\
n";
echo "9223372036854775809: " . date("Y-m-d g:i:s a",  9223372036854775809) . "\
n";
echo "9223372036854775810: " . date("Y-m-d g:i:s a",  9223372036854775810) . "\
n";
echo "...\n";
echo "9223372036854776832: " . date("Y-m-d g:i:s a",  9223372036854776832) . "\
n";
echo "9223372036854776833: " . date("Y-m-d g:i:s a",  9223372036854776833) . "\
n";
echo "...\n";
echo "9223372036854778879: " . date("Y-m-d g:i:s a",  9223372036854778879) . "\
n";
echo "9223372036854778880: " . date("Y-m-d g:i:s a",  9223372036854778880) . "\
n";
echo "...\n";
echo "9223372036854780928: " . date("Y-m-d g:i:s a",  9223372036854780928) . "\
n";
echo "9223372036854780929: " . date("Y-m-d g:i:s a",  9223372036854780929) . "\
n";
echo "...\n";
echo "9223372036854782975: " . date("Y-m-d g:i:s a",  9223372036854782975) . "\
n";
echo "9223372036854782976: " . date("Y-m-d g:i:s a",  9223372036854782976) . "\
n";
echo "...\n";
echo "9223372036854785024: " . date("Y-m-d g:i:s a",  9223372036854785024) . "\
n";
echo "9223372036854785025: " . date("Y-m-d g:i:s a",  9223372036854785025) . "\
n";
echo "...\n";
echo "9223372036854787071: " . date("Y-m-d g:i:s a",  9223372036854787071) . "\
n";
echo "9223372036854787072: " . date("Y-m-d g:i:s a",  9223372036854787072) . "\
n";
echo "...\n";
echo "9223372036854789120: " . date("Y-m-d g:i:s a",  9223372036854789120) . "\
n";
echo "9223372036854789121: " . date("Y-m-d g:i:s a",  9223372036854789121) . "\
n";
echo "...\n";
echo "9223372036854791167: " . date("Y-m-d g:i:s a",  9223372036854791167) . "\
n";
echo "9223372036854791168: " . date("Y-m-d g:i:s a",  9223372036854791168) . "\
n";
echo "...\n";
echo "9223372036854793215: " . date("Y-m-d g:i:s a",  9223372036854793215) . "\
n";
echo "9223372036854793216: " . date("Y-m-d g:i:s a",  9223372036854793216) . "\
n";
echo "9223372036854793217: " . date("Y-m-d g:i:s a",  9223372036854793217) . "\
n";
echo "9223372036854793218: " . date("Y-m-d g:i:s a",  9223372036854793218) . "\
n";
?>

Output:

9223372036854775805: 292277026596-12-04 10:30:05 am
9223372036854775806: 292277026596-12-04 10:30:06 am
9223372036854775807: 292277026596-12-04 10:30:07 am (0x7FFFFFFFFFFFFFFF)
9223372036854775808: 292277026596-12-04 10:30:08 am
9223372036854775809: 292277026596-12-04 10:30:08 am
9223372036854775810: 292277026596-12-04 10:30:08 am
...
9223372036854778879: 292277026596-12-04 10:30:08 am
9223372036854778880: 292277026596-12-04 11:04:16 am
...
9223372036854778879: 292277026596-12-04 11:04:16 am
9223372036854778880: 292277026596-12-04 11:38:24 am
...
9223372036854780928: 292277026596-12-04 11:38:24 am
9223372036854780929: 292277026596-12-04 12:12:32 pm
...
9223372036854782975: 292277026596-12-04 12:12:32 pm
9223372036854782976: 292277026596-12-04 12:46:40 pm
...
9223372036854785024: 292277026596-12-04 12:46:40 pm
9223372036854785025: 292277026596-12-04 1:20:48 pm
...
9223372036854787071: 292277026596-12-04 1:20:48 pm
9223372036854787072: 292277026596-12-04 1:54:56 pm
...
9223372036854789120: 292277026596-12-04 1:54:56 pm
9223372036854789121: 292277026596-12-04 2:29:04 pm
...
9223372036854791167: 292277026596-12-04 2:29:04 pm
9223372036854791168: 292277026596-12-04 3:03:12 pm
...
9223372036854793215: 292277026596-12-04 3:03:12 pm
9223372036854793216: 292277026596-12-04 3:03:12 pm
9223372036854793217: -292277022657-01-27 8:37:04 am
9223372036854793218: -292277022657-01-27 8:37:04 am

---

So, the last reliable unix timecode is 9223372036854775808
(0x1000000000000000). Not that you would probably ever need a date that high.
