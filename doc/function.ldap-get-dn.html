
ldap_get_dn

(PHP 4, PHP 5, PHP 7)

ldap_get_dn — Get the DN of a result entry

说明

string ldap_get_dn ( resource $link_identifier , resource
$result_entry_identifier )

Finds out the DN of an entry in the result.

参数

link_identifier

    An LDAP link identifier, returned by ldap_connect().

result_entry_identifier

返回值

Returns the DN of the result entry and FALSE on error.


User Contributed Notes 1 note

===============================================================================

How to get the DN for a given samaccountname:

/*the connecting part*/
$ldap_conn = ldap_connect($hostname, $port);
$bind = ldap_bind($ldap_conn, $username, $password);
/*the connecting part*/

$samaccountname = john.doe;

$filter="(samaccountname=$samaccountname)";
$dn="OU=PEOPLE, DC=example, DC=com"; //even if it seems obvious I note here
that the dn is just an example, you'll have to provide an OU and DC of your own

$res = ldap_search($ldap_conn, $dn, $filter);
$first = ldap_first_entry($ldap_conn, $res);
$data = ldap_get_dn($ldap_conn, $first);

echo "The desired DN is: ".$data;
