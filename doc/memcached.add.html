
Memcached::add

(PECL memcached >= 0.1.0)

Memcached::add — 向一个新的key下面增加一个元素

说明

public bool Memcached::add ( string $key , mixed $value [, int $expiration ] )

Memcached::add()与Memcached::set()类似，但是如果 key已经在服务端存在，此操作会
失败。

参数

key

    用于存储值的键名。

value

    存储的值。

expiration

    到期时间，默认为 0。更多信息请参见到期时间。

返回值

成功时返回 TRUE，或者在失败时返回 FALSE。如果key已经存在，
Memcached::getResultCode()方法将会返回Memcached::RES_NOTSTORED。

参见

  • Memcached::addByKey() - 在指定服务器上的一个新的key下增加一个元素
  • Memcached::set() - 存储一个元素
  • Memcached::replace() - 替换已存在key下的元素


User Contributed Notes 1 note

===============================================================================

<?php
/**
* Created by PhpStorm.
* User: zhoujunwen
* Date: 15/6/17
* Time: 下午4:51
*/
    $mem  = new Memcached();

    $mem->addServer('127.0.0.1',11211);
    if( $mem->add("mystr","this is a memcache test!",3600)){
        echo  '原始数据缓存成功!';
    }else{
        echo '数据已存在：'.$mem->get("mystr");
    }

?>
