
Imagick::setImageDelay

(PECL imagick 2.0.0)

Imagick::setImageDelay — Sets the image delay

说明

bool Imagick::setImageDelay ( int $delay )

Sets the image delay. For an animated image this is the amount of time that
this frame of the image should be displayed for, before displaying the next
frame.

The delay can be set individually for each frame in an image.

参数

delay

    The amount of time expressed in 'ticks' that the image should be displayed
    for. For animated GIFs there are 100 ticks per second, so a value of 20
    would be 20/100 of a second aka 1/5th of a second.

返回值

成功时返回 TRUE。

错误／异常

错误时抛出 ImagickException。

范例

Example #1 Modify animated Gif with Imagick::setImageDelay()

<?php

// Modify an animated Gif so that it's frames are played at a variable speed,
// varying between being shown for 50ms down to 0ms, which will cause the frame
// to be skipped in most browsers.
$imagick = new Imagick(realpath("Test.gif"));
$imagick = $imagick->coalesceImages();

$frameCount = 0;

foreach ($imagick as $frame) {
    $imagick->setImageDelay((($frameCount % 11) * 5));
    $frameCount++;
}

$imagick = $imagick->deconstructImages();

$imagick->writeImages("/path/to/save/output.gif", true);

?>


User Contributed Notes 1 note

===============================================================================

the delay time unit is micro-second  when 100  is  1s
