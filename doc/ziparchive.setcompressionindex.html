
ZipArchive::setCompressionIndex

(PHP 7, PECL zip >= 1.13.0)

ZipArchive::setCompressionIndex — Set the compression method of an entry
defined by its index

说明

bool ZipArchive::setCompressionIndex ( int $index , int $comp_method [, int
$comp_flags = 0 ] )

Set the compression method of an entry defined by its index.

参数

index

    Index of the entry.

comp_method

    The compression method. Either ZipArchive::CM_DEFAULT, ZipArchive::CM_STORE
    or ZipArchive::CM_DEFLATE.

comp_flags

    Compression flags. Currently unused.

返回值

成功时返回 TRUE，或者在失败时返回 FALSE。

范例

Example #1 Add files with different compression methods to an archive

<?php
$zip = new ZipArchive;
$res = $zip->open('test.zip', ZipArchive::CREATE);
if ($res === TRUE) {
    $zip->addFromString('foo', 'Some text');
    $zip->addFromString('bar', 'Some other text');
    $zip->setCompressionIndex(0, ZipArchive::CM_STORE);
    $zip->setCompressionIndex(1, ZipArchive::CM_DEFLATE);
    $zip->close();
    echo 'ok';
} else {
    echo 'failed';
}
?>
