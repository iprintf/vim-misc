
MongoDB\Driver\ReadConcern::__construct

(mongodb >=1.0.0)

MongoDB\Driver\ReadConcern::__construct — Construct immutable ReadConcern

说明

final public MongoDB\Driver\ReadConcern::__construct ([ string $level ] )

Creates a new ReadConcern.

参数

level

                                 Read concern
            Value                              Description
                          Queries using this read concern will return the
    MongoDB\Driver\       node's most recent copy of the data. This provides no
    ReadConcern::LOCAL    guarantee that the data has been written to a
                          majority of the nodes (i.e. it may be rolled back).
                          This is the default read concern for MongoDB.
                          Queries using this read concern will return the
    MongoDB\Driver\       node's most recent copy of the data confirmed as
    ReadConcern::MAJORITY having been written to a majority of the nodes (i.e.
                          the data cannot be rolled back).

错误／异常

  • Throws MongoDB\Driver\Exception\InvalidArgumentException on argument
    parsing errors.

范例

Example #1 MongoDB\Driver\ReadConcern::__construct() example

<?php

/* Unspecified read isolation level (uses the server's default behavior) */
$rc = new MongoDB\Driver\ReadConcern();

/* Request read isolation from a single replica set node */
$rc = new MongoDB\Driver\ReadConcern(MongoDB\Driver\ReadConcern::LOCAL);

/* Request read isolation from a majority of the replica set nodes */
$rc = new MongoDB\Driver\ReadConcern(MongoDB\Driver\ReadConcern::MAJORITY);

?>

参见

  • » Read Concern reference

