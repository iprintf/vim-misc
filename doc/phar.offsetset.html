
Phar::offsetSet

(PHP >= 5.3.0, PECL phar >= 1.0.0)

Phar::offsetSet — set the contents of an internal file to those of an external
file

说明

public void Phar::offsetSet ( string $offset , string $value )


    Note:

    此方法需要将 php.ini 中的 phar.readonly 设为 0 以适合 Phar 对象. 否则, 将抛
    出PharException.

This is an implementation of the ArrayAccess interface allowing direct
manipulation of the contents of a Phar archive using array access brackets.
offsetSet is used for modifying an existing file, or adding a new file to a
Phar archive.

参数

offset

    The filename (relative path) to modify in a Phar.

value

    Content of the file.

返回值

No return values.

错误／异常

if phar.readonly is 1, BadMethodCallException is thrown, as modifying a Phar is
only allowed when phar.readonly is set to 0. Throws PharException if there are
any problems flushing changes made to the Phar archive to disk.

范例

Example #1 A Phar::offsetSet() example

offsetSet should not be accessed directly, but instead used via array access
with the [] operator.

<?php
$p = new Phar('/path/to/my.phar', 0, 'my.phar');
try {
    // calls offsetSet
    $p['file.txt'] = 'Hi there';
} catch (Exception $e) {
    echo 'Could not modify file.txt:', $e;
}
?>

参见

  • Phar::offsetExists() - determines whether a file exists in the phar
  • Phar::offsetGet() - Gets a PharFileInfo object for a specific file
  • Phar::offsetUnset() - remove a file from a phar

