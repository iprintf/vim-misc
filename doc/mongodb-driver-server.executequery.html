
MongoDB\Driver\Server::executeQuery

(mongodb >=1.0.0)

MongoDB\Driver\Server::executeQuery — Execute a database query on this server

说明

final public MongoDB\Driver\Cursor MongoDB\Driver\Server::executeQuery ( string
$namespace , MongoDB\Driver\Query $query [, MongoDB\Driver\ReadPreference
$readPreference ] )

Executes query on this server.

    Note:

    The readPreference parameter does not control the server to which the
    driver issues the query; the query will always be executed on this server
    object. Instead, it may be used when issuing the command to a secondary
    (from a replica set connection, not standalone) or mongos node to ensure
    that the driver sets the wire protocol accordingly or adds the read
    preference to the query document, respectively.

参数

namespace (string)

    A fully qualified namespace (e.g. "databaseName.collectionName").

query (MongoDB\Driver\Query)

    The MongoDB\Driver\Query to execute.

readPreference (MongoDB\Driver\ReadPreference)

    Optionally, a MongoDB\Driver\ReadPreference to select the server for this
    operation. If none is given, the read preference from the MongoDB
    Connection URI will be used.

返回值

Returns MongoDB\Driver\Cursor on success.

错误／异常

  • Throws MongoDB\Driver\Exception\InvalidArgumentException on argument
    parsing errors.
  • Throws MongoDB\Driver\Exception\ConnectionException if connection to the
    server fails (for reasons other than authentication).
  • Throws MongoDB\Driver\Exception\AuthenticationException if authentication
    is needed and fails.
  • Throws MongoDB\Driver\Exception\RuntimeException on other errors (e.g.
    invalid query operators).

参见

  • MongoDB\Driver\Cursor
  • MongoDB\Driver\Query
  • MongoDB\Driver\ReadPreference
  • MongoDB\Driver\Manager::executeQuery() - Execute a database query

