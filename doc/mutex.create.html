
Mutex::create

(PECL pthreads >= 2.0.0)

Mutex::create — 创建一个互斥量

说明

final public static long Mutex::create ([ boolean $lock ] )

为调用者创建一个互斥量，同时也可以通过 lock 参数设置是否在创建完成之后立即加锁
此互斥量

参数

lock

    如果设置 lock 参数为 true，表示创建互斥量之后，立即加锁，然后再将互斥量句柄
    返回给调用者

返回值

新创建的互斥量句柄，这个互斥量可能已经处于加锁状态，由 lock 参数控制

范例

Example #1 互斥量的创建与销毁

<?php
/** 不可以使用 new 关键字，因为互斥量不是 PHP 对象 **/
$mutex = Mutex::create();
/** 你已经持有了这个互斥量的物理地址 **/
var_dump($mutex);
/** 不要忘记销毁你创建的互斥量 **/
Mutex::destroy($mutex);
?>

以上例程会输出：

int(40096976)

