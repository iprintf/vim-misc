
PharData::addFromString

(PHP >= 5.3.0, PECL phar >= 2.0.0)

PharData::addFromString — Add a file from the filesystem to the tar/zip archive

说明

bool PharData::addFromString ( string $localname , string $contents )

With this method, any string can be added to the tar/zip archive. The file will
be stored in the archive with localname as its path. This method is similar to 
ZipArchive::addFromString().

参数

localname

    Path that the file will be stored in the archive.

contents

    The file contents to store

返回值

no return value, exception is thrown on failure.

范例

Example #1 A PharData::addFromString() example

<?php
try {
    $a = new PharData('/path/to/my.tar');

    $a->addFromString('path/to/file.txt', 'my simple file');
    $b = $a['path/to/file.txt']->getContent();

    // to add contents from a stream handle for large files, use offsetSet()
    $c = fopen('/path/to/hugefile.bin');
    $a['largefile.bin'] = $c;
    fclose($c);
} catch (Exception $e) {
    // handle errors here
}
?>

参见

  • PharData::offsetSet() - set the contents of a file within the tar/zip to
    those of an external file or string
  • Phar::addFromString() - 以字符串的形式添加一个文件到 phar 档案
  • PharData::addFile() - Add a file from the filesystem to the tar/zip archive
  • PharData::addEmptyDir() - Add an empty directory to the tar/zip archive

