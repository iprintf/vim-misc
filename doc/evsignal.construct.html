
EvSignal::__construct

(PECL ev >= 0.2.0)

EvSignal::__construct — Constructs EvPeriodic watcher object

说明

public EvSignal::__construct ( int $signum , callable $callback [, mixed $data 
= NULL [, int $priority = 0 ]] )

Constructs EvPeriodic watcher object and starts it automatically. For a stopped
periodic watcher consider using EvSignal::createStopped() method.

参数

signum

    Signal number. See constants exported by pcntl extension. See also signal
    (7) man page.

callback

    See Watcher callbacks .

data

    Custom data associated with the watcher.

priority

    Watcher priority

返回值

Returns EvSignal object on success.

范例

Example #1 Handle SIGTERM signal

<?php
$w = new EvSignal(SIGTERM, function ($watcher) {
    echo "SIGTERM received\n";
    $watcher->stop();
});

Ev::run();
?>

参见

  • EvSignal::createStopped() - Create stopped EvSignal watcher object

