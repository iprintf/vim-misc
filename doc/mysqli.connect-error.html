
mysqli::$connect_error

mysqli_connect_error

(PHP 5, PHP 7)

mysqli::$connect_error -- mysqli_connect_error — Returns a string description
of the last connect error

说明

面向对象风格

string $mysqli->connect_error;

过程化风格

string mysqli_connect_error ( void )

Returns the last error message string from the last call to mysqli_connect().

返回值

A string that describes the error. NULL is returned if no error occurred.

范例

Example #1 $mysqli->connect_error example

面向对象风格

<?php
$mysqli = @new mysqli('localhost', 'fake_user', 'my_password', 'my_db');

// Works as of PHP 5.2.9 and 5.3.0.
if ($mysqli->connect_error) {
    die('Connect Error: ' . $mysqli->connect_error);
}
?>

过程化风格

<?php
$link = @mysqli_connect('localhost', 'fake_user', 'my_password', 'my_db');

if (!$link) {
    die('Connect Error: ' . mysqli_connect_error());
}
?>

以上例程会输出：

Connect Error: Access denied for user 'fake_user'@'localhost' (using password: YES)

注释

Warning

The mysqli->connect_error property only works properly as of PHP versions 5.2.9
and 5.3.0. Use the mysqli_connect_error() function if compatibility with
earlier PHP versions is required.

参见

  • mysqli_connect() - 别名 mysqli::__construct
  • mysqli_connect_errno() - Returns the error code from last connect call
  • mysqli_errno() - 返回最近函数调用的错误代码
  • mysqli_error() - Returns a string description of the last error
  • mysqli_sqlstate() - Returns the SQLSTATE error from previous MySQL
    operation

