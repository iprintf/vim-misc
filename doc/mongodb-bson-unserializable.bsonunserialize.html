
MongoDB\BSON\Unserializable::bsonUnserialize

(mongodb >=1.0.0)

MongoDB\BSON\Unserializable::bsonUnserialize — Constructs the object from a
BSON array or document

说明

abstract public void MongoDB\BSON\Unserializable::bsonUnserialize ( array $data
)

Called during unserialization of the object from BSON. The properties of the
BSON array or document will be passed to the method as an array.

Remember to check for an _id property when handling data from a BSON document.

    Note:

    This method acts as the constructor of the object. The __construct() method
    will not be called after this method.

参数

data (array)

    Properties within the BSON array or document.

返回值

The return value from this method is ignored.

范例

Example #1 MongoDB\BSON\Unserializable::bsonUnserialize() example

<?php

class MyDocument implements MongoDB\BSON\Unserializable
{
    private $data = [];

    function bsonUnserialize(array $data)
    {
        $this->data = $data;
    }
}

$bson = MongoDB\BSON\fromJSON('{ "foo": "bar" }');
$value = MongoDB\BSON\toPHP($bson, ['root' => 'MyDocument']);
var_dump($value);

?>

以上例程会输出：

object(MyDocument)#1 (1) {
  ["data":"MyDocument":private]=>
  array(1) {
    ["foo"]=>
    string(3) "bar"
  }
}

参见

  • MongoDB\BSON\Serializable::bsonSerialize() - Provides an array or document
    to serialize as BSON
  • MongoDB\BSON\Persistable
  • Persisting Data

