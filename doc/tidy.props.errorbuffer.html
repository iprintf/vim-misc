
tidy::$errorBuffer

tidy_get_error_buffer

(PHP 5, PHP 7, PECL tidy >= 0.5.2)

tidy::$errorBuffer -- tidy_get_error_buffer — Return warnings and errors which
occurred parsing the specified document

说明

面向对象风格 (property):

string $tidy->errorBuffer;

过程化风格:

string tidy_get_error_buffer ( tidy $tidy )

Returns warnings and errors which occurred parsing the specified document.

参数

tidy

    The Tidy 对象。

返回值

Returns the error buffer as a string.

范例

Example #1 tidy_get_error_buffer() example

<?php
$html = '<p>paragraph</p>';

$tidy = tidy_parse_string($html);

echo tidy_get_error_buffer($tidy);
/* or in OO: */
echo $tidy->errorBuffer;
?>

以上例程会输出：

line 1 column 1 - Warning: missing <!DOCTYPE> declaration
line 1 column 1 - Warning: inserting missing 'title' element

参见

  • tidy_access_count() - Returns the Number of Tidy accessibility warnings
    encountered for specified document
  • tidy_error_count() - Returns the Number of Tidy errors encountered for
    specified document
  • tidy_warning_count() - Returns the Number of Tidy warnings encountered for
    specified document


User Contributed Notes 1 note

===============================================================================

The following line will convert string error into a two dimensional array
containing the components from the error string for each line.  It will match
Error, Warning, Info and Access error types.  You can then do something useful
with the output.

<?php
preg_match_all('/^(?:line (\d+) column (\d+) - )?(\S+): (?:\[((?:\d+\.?){4})]:)
?(.*?)$/m', $tidy->errorBuffer, $tidy_errors, PREG_SET_ORDER);
?>

And a small tip, always run the error messages through htmlentities when
outputting to convert the tags in the error to a viewable form.
