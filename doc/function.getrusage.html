
getrusage

(PHP 4, PHP 5, PHP 7)

getrusage — 获取当前资源使用状况

说明

array getrusage ([ int $who = 0 ] )

这是 getrusage(2) 的接口。它返回了调用自系统的数据。

参数

who

    如果 who 是 1，getrusage 会使用 RUSAGE_CHILDREN 来调用。

返回值

返回了一个包含系统返回数据的关联数组。所以条目均可通过文档中字段的名称来访问。

范例

Example #1 getrusage() 例子

<?php
$dat = getrusage();
echo $dat["ru_nswap"];         // number of swaps
echo $dat["ru_majflt"];        // number of page faults
echo $dat["ru_utime.tv_sec"];  // user time used (seconds)
echo $dat["ru_utime.tv_usec"]; // user time used (microseconds)
?>

注释

    Note: 此函数未在 Windows 平台下实现。

参见

  • 你系统上 getrusage(2) 的 man page


User Contributed Notes 1 note

===============================================================================

getrusage() reports kernel counters that are updated only once application
loses context and a switch to kernel space happens. For example on modern Linux
server kernels that would mean that getrusage() calls would return information
rounded at 10ms, desktop kernels - at 1ms.

getrusage() isn't usable for micro-measurements at all - and getmicrotime(true)
might be much more valuable resource.
