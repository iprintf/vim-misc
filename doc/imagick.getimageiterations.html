
Imagick::getImageIterations

(PECL imagick 2.0.0)

Imagick::getImageIterations — Gets the image iterations

说明

int Imagick::getImageIterations ( void )

Gets the image iterations.

返回值

Returns the image iterations as an integer.

错误／异常

错误时抛出 ImagickException。


User Contributed Notes 1 note

===============================================================================

By using the PHP function getImageIterations, you'll receive back a value
indicating the animated nature of the image.  You'll get back a '0' for a still
image that is not animated (like a .BMP or a .JPEG file) and a '1' for an
animated image (like an animated .GIF file).

I have been unable to get any other results from this function, after extensive
use.  There is some discussion among the ImageMagick user's group saying that
the Iterations should indicate the number of times an animated .Gif file
repeats itself.  However, it's possible that either modern browsers default the
value to infinity or that this ImageMagick functionality is only available at
the Linux command-line.  See more at the discussion group here: http://
studio.imagemagick.org/pipermail/magick-users/2002-October/005814.html

And some sample code :

<?php

            // Author: holdoffhunger@gmail.com
   
        // Imagick Type
        // ---------------------------------------------

    $imagick_type = new Imagick();
   
        // Open File
        // ---------------------------------------------
       
    $file_to_grab = "image_workshop_directory/test.gif";
   
    $file_handle_for_viewing_image_file = fopen($file_to_grab, 'a+');
   
        // Grab File
        // ---------------------------------------------

    $imagick_type->readImageFile($file_handle_for_viewing_image_file);
   
        // Get Image Iterations
        //    (Detect Animated Image Versus Non-Animated Image)
        // ---------------------------------------------
       
    $image_iterations = $imagick_type->getImageIterations();
   
        // Print Iteration Value Interpreted
        // ---------------------------------------------
   
    if($image_iterations == 1)
    {
        print("$file_to_grab *IS* an animated image.");
    }
    else
    {
        print("$file_to_grab *IS NOT* an animated image.");
    }

?>
