
gnupg_addencryptkey

(PECL gnupg >= 0.5)

gnupg_addencryptkey — Add a key for encryption

说明

bool gnupg_addencryptkey ( resource $identifier , string $fingerprint )

参数

identifier

    gnupg 标识符，由对 gnupg_init() 或 gnupg 的调用生成。

fingerprint

    指纹键名。

返回值

成功时返回 TRUE，或者在失败时返回 FALSE。

范例

Example #1 Procedural gnupg_addencryptkey() example

<?php
$res = gnupg_init();
gnupg_addencryptkey($res,"8660281B6051D071D94B5B230549F9DC851566DC");
?>

Example #2 OO gnupg_addencryptkey() example

<?php
$gpg = new gnupg();
$gpg -> addencryptkey("8660281B6051D071D94B5B230549F9DC851566DC");
?>


User Contributed Notes 2 notes

===============================================================================

When you've successfully installed gnupg, you should define the GNUPGHOME
environment variable and make sure the directory is writeable by the Apache
user.

<?php
    putenv("GNUPGHOME=/var/www/example.com/.gnupg");
?>
===============================================================================

In this case, $fingerprint is the fingerprint of the public key whose private
key shall be able to decrypt the text. The private key that you want to encrypt
the text with has to be loaded via gnupg_addsignkey().
