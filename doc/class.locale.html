
The Locale class

(PHP 5 >= 5.3.0, PHP 7, PECL intl >= 1.0.0)

简介

A "Locale" is an identifier used to get language, culture, or
regionally-specific behavior from an API. PHP locales are organized and
identified the same way that the CLDR locales used by ICU (and many vendors of
Unix-like operating systems, the Mac, Java, and so forth) use. Locales are
identified using RFC 4646 language tags (which use hyphen, not underscore) in
addition to the more traditional underscore-using identifiers. Unless otherwise
noted the functions in this class are tolerant of both formats.

Examples of identifiers include:

  • en-US (English, United States)
  • zh-Hant-TW (Chinese, Traditional Script, Taiwan)
  • fr-CA, fr-FR (French for Canada and France respectively)

The Locale class (and related procedural functions) are used to interact with
locale identifiers--to verify that an ID is well-formed, valid, etc. The
extensions used by CLDR in UAX #35 (and inherited by ICU) are valid and used
wherever they would be in ICU normally.

Locales cannot be instantiated as objects. All of the functions/methods
provided are static.

The null or empty string obtains the "root" locale. The "root" locale is
equivalent to "en_US_POSIX" in CLDR. Language tags (and thus locale
identifiers) are case insensitive. There exists a canonicalization function to
make case match the specification.

类摘要

Locale {
/* 方法 */
public static string acceptFromHttp ( string $header )
public static string canonicalize ( string $locale )
public static string composeLocale ( array $subtags )
public static bool filterMatches ( string $langtag , string $locale [, bool
$canonicalize = false ] )
public static array getAllVariants ( string $locale )
public static string getDefault ( void )
public static string getDisplayLanguage ( string $locale [, string $in_locale ]
)
public static string getDisplayName ( string $locale [, string $in_locale ] )
public static string getDisplayRegion ( string $locale [, string $in_locale ] )
public static string getDisplayScript ( string $locale [, string $in_locale ] )
public static string getDisplayVariant ( string $locale [, string $in_locale ]
)
public static array getKeywords ( string $locale )
public static string getPrimaryLanguage ( string $locale )
public static string getRegion ( string $locale )
public static string getScript ( string $locale )
public static string lookup ( array $langtag , string $locale [, bool
$canonicalize = false [, string $default ]] )
public static array parseLocale ( string $locale )
public static bool setDefault ( string $locale )
}

预定义常量

Locale::DEFAULT_LOCALE (null)
    Used as locale parameter with the methods of the various locale affected
    classes, such as NumberFormatter. This constant would make the methods to
    use default locale.

These constants describe the choice of the locale for getLocalte method of
different classes.

Locale::ACTUAL_LOCALE (string)
    This is locale the data actually comes from.
Locale::VALID_LOCALE (string)
    This is the most specific locale supported by ICU.

These constants define how the Locales are parsed or composed. They should be
used as keys in the argument array to locale_compose() and are returned from 
locale_parse() as keys of the returned associative array.

Locale::LANG_TAG (string)
    Language subtag
Locale::EXTLANG_TAG (string)
    Extended language subtag
Locale::SCRIPT_TAG (string)
    Script subtag
Locale::REGION_TAG (string)
    Region subtag
Locale::VARIANT_TAG (string)
    Variant subtag
Locale::GRANDFATHERED_LANG_TAG (string)
    Grandfathered Language subtag
Locale::PRIVATE_TAG (string)
    Private subtag

参见

  • » RFC 4646 - Tags for Identifying Languages
  • » RFC 4647 - Matching of Language Tags
  • » Unicode CLDR Project:Common Locale Data Repository
  • » IANA Language Subtags Registry
  • » ICU User Guide - Locale
  • » ICU Locale api

Table of Contents

  • Locale::acceptFromHttp — Tries to find out best available locale based on
    HTTP "Accept-Language" header
  • Locale::canonicalize — Canonicalize the locale string
  • Locale::composeLocale — Returns a correctly ordered and delimited locale ID
  • Locale::filterMatches — Checks if a language tag filter matches with locale
  • Locale::getAllVariants — Gets the variants for the input locale
  • Locale::getDefault — Gets the default locale value from the INTL global
    'default_locale'
  • Locale::getDisplayLanguage — Returns an appropriately localized display
    name for language of the inputlocale
  • Locale::getDisplayName — Returns an appropriately localized display name
    for the input locale
  • Locale::getDisplayRegion — Returns an appropriately localized display name
    for region of the input locale
  • Locale::getDisplayScript — Returns an appropriately localized display name
    for script of the input locale
  • Locale::getDisplayVariant — Returns an appropriately localized display name
    for variants of the input locale
  • Locale::getKeywords — Gets the keywords for the input locale
  • Locale::getPrimaryLanguage — Gets the primary language for the input locale
  • Locale::getRegion — Gets the region for the input locale
  • Locale::getScript — Gets the script for the input locale
  • Locale::lookup — Searches the language tag list for the best match to the
    language
  • Locale::parseLocale — Returns a key-value array of locale ID subtag
    elements.
  • Locale::setDefault — sets the default runtime locale

