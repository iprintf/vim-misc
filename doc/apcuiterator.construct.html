
APCUIterator::__construct

(PECL apcu >= 5.0.0)

APCUIterator::__construct — Constructs an APCUIterator iterator object

说明

public APCUIterator::__construct ([ mixed $search = null [, int $format =
APC_ITER_ALL [, int $chunk_size = 100 [, int $list = APC_LIST_ACTIVE ]]]] )

Constructs an APCUIterator object.

参数

cache

    The cache type, which will be user or file.

search

    A PCRE regular expression that matches against APC key names, either as a 
    string for a single regular expression, or as an array of regular
    expressions. Or, optionally pass in NULL to skip the search.

format

    The desired format, as configured with one or more of the APC_ITER_*
    constants.

chunk_size

    The chunk size. Must be a value greater than 0. The default value is 100.

list

    The type to list. Either pass in APC_LIST_ACTIVE or APC_LIST_DELETED.

返回值

An APCUIterator object on success, or NULL on failure.

范例

Example #1 A APCUIterator::__construct() example

<?php
foreach (new APCUIterator('user', '/^counter\./') as $counter) {
    echo "$counter[key]: $counter[value]\n";
    apc_dec($counter['key'], $counter['value']);
}
?>

参见

  • apc_exists() - 检查APC中是否存在某个或者某些key
  • apc_cache_info() - Retrieves cached information from APC's data store

