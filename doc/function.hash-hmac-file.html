
hash_hmac_file

(PHP 5 >= 5.1.2, PHP 7, PECL hash >= 1.1)

hash_hmac_file — 使用 HMAC 方法和给定文件的内容生成带密钥的哈希值

说明

string hash_hmac_file ( string $algo , string $filename , string $key [, bool
$raw_output = false ] )

参数

algo

    要使用的哈希算法名称，例如："md5"，"sha256"，"haval160,4" 等。如何获取受支
    持的算法清单，请参见 hash_algos()。

filename

    要进行哈希运算的文件路径，支持 fopen 封装器。

key

    使用 HMAC 生成信息摘要时所使用的密钥。

raw_output

    设置为 TRUE 输出原始二进制数据，设置为 FALSE 输出小写 16 进制字符串。

返回值

如果 raw_output 设置为 TRUE，则返回原始二进制数据表示的信息摘要，否则返回 16 进
制小写字符串格式表示的信息摘要。如果 algo 参数指定的不是受支持的算法，返回
FALSE。

范例

Example #1 hash_hmac_file() 例程

<?php
/* 创建一个要计算哈希值的文件 */
file_put_contents('example.txt', 
'The quick brown fox jumped over the lazy dog.');

echo hash_hmac_file('md5', 'example.txt', 'secret');
?>

以上例程会输出：

7eb2b5c37443418fc77c136dd20e859c

参见

  • hash_algos() - 返回已注册的哈希算法列表
  • hash_hmac() - 使用 HMAC 方法生成带有密钥的哈希值
  • hash_file() - 使用给定文件的内容生成哈希值

