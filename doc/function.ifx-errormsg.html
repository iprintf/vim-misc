
ifx_errormsg

(PHP 4, PHP <=5.2.0)

ifx_errormsg — Returns error message of last Informix call

说明

string ifx_errormsg ([ int $errorcode ] )

Returns the Informix error message associated with the most recent Informix
error.

参数

errorcode

    If specified, the function will return the message corresponding to the
    specified code.

返回值

Return the error message, as a string.

范例

Example #1 ifx_errormsg() example

<?php
printf("%s\n<br>", ifx_errormsg(-201));
?>

参见

  • ifx_error() - Returns error code of last Informix call


User Contributed Notes 2 notes

===============================================================================

The support for message-strings send by triggers is not implemented.

The common error send by triggers is the -746.
In the sqlerrm is the message for the error returned from a trigger.

This driver does not take this in mind.

Sorry for my bad english...

J. Montenegro
===============================================================================

Nice function to call. Very helpfull if you want to use in combination with an
own ErrorHandler. But informix error recognition seems just to work directly
after calling a informix function.

/**
* checks weater error has occured or not
* @return false if no error, else error message
*/
function db_error_occured()
{
    $err_code = ifx_error();
    if (substr($err_code,0,1) != ' ') {
        return ifx_errormsg();
    }
    else {
        return false;
    }
} //db_error_occured
