
Cond::destroy

(PECL pthreads >= 2.0.0)

Cond::destroy — 销毁条件变量

说明

final public static boolean Cond::destroy ( long $condition )

当不再需要所创建的条件变量时，程序员必须显式的销毁它。当调用 Cond::destroy() 函
数时，必须保证其他线程没有处于等待此条件变量的阻塞状态（通过调用函数 Cond::wait
() 进入条件阻塞状态）。

参数

condition

    通过调用 Cond::create() 函数获得的条件变量句柄

返回值

布尔值，表示操作是否成功。

范例

Example #1 条件变量的创建与销毁

<?php
/** 不可以使用 new 关键字，因为 Cond 不是 PHP 对象 **/
$cond = Cond::create();
/** 现在你可以在任意线程上下文中使用此条件变量 **/
var_dump($cond);
/** 永远不要忘记销毁你创建的条件变量 **/
Cond::destroy($cond);
?>

以上例程会输出：

int(4540682)

