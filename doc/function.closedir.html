
closedir

(PHP 4, PHP 5, PHP 7)

closedir — 关闭目录句柄

说明

void closedir ([ resource $dir_handle ] )

关闭由 dir_handle 指定的目录流。流必须之前被 opendir() 所打开。

参数

dir_handle

    目录句柄的 resource，之前由 opendir() 所打开的。如果目录句柄没有指定，那么
    会假定为是opendir()所打开的最后一个句柄。

范例

Example #1 closedir() 例子

<?php
$dir = "/etc/php5/";

// Open a known directory, read directory into variable and then close
if (is_dir($dir)) {
    if ($dh = opendir($dir)) {
        $directory = readdir($dh);
        closedir($dh);
    }
}
?>


User Contributed Notes 1 note

===============================================================================

About deleting a directory after doing a readdir/closedir on it... I'm not sure
if this is the solution, but you could try to chdir("/"); before the rmdir to
make absolutely sure you aren't standing in the directory (i.e trying to pull
out the rug from under yourself).
