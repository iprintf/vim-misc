
SyncMutex::lock

(PECL sync >= 1.0.0)

SyncMutex::lock — Waits for an exclusive lock

说明

public bool SyncMutex::lock ([ integer $wait ] )

Obtains an exclusive lock on a SyncMutex object. If the lock is already
acquired, then this increments an internal counter.

参数

wait

    The number of milliseconds to wait for the exclusive lock. A value of -1 is
    infinite.

返回值

A boolean of TRUE if the lock was obtained, FALSE otherwise.

范例

Example #1 SyncMutex::lock() example

<?php
$mutex = new SyncMutex("UniqueName");

if (!$mutex->lock(3000))
{
    echo "Unable to lock mutex.";

    exit();
}

/* ... */

$mutex->unlock();
?>

参见

  • SyncMutex::unlock() - Unlocks the mutex

