
Phar::setDefaultStub

(Unknown)

Phar::setDefaultStub — Used to set the PHP loader or bootstrap stub of a Phar
archive to the default loader

说明

public bool Phar::setDefaultStub ([ string $index [, string $webindex ]] )


    Note:

    此方法需要将 php.ini 中的 phar.readonly 设为 0 以适合 Phar 对象. 否则, 将抛
    出PharException.

This method is a convenience method that combines the functionality of 
Phar::createDefaultStub() and Phar::setStub().

参数

index

    Relative path within the phar archive to run if accessed on the
    command-line

webindex

    Relative path within the phar archive to run if accessed through a web
    browser

返回值

成功时返回 TRUE，或者在失败时返回 FALSE。

错误／异常

UnexpectedValueException is thrown if phar.readonly is enabled in php.ini.
PharException is thrown if any problems are encountered flushing changes to
disk.

范例

Example #1 A Phar::setDefaultStub() example

<?php
try {
    $phar = new Phar('myphar.phar');
    $phar->setDefaultStub('cli.php', 'web/index.php');
    // this is the same as:
    // $phar->setStub($phar->createDefaultStub('cli.php', 'web/index.php'));
} catch (Exception $e) {
    // handle errors
}
?>

参见

  • Phar::setStub() - Used to set the PHP loader or bootstrap stub of a Phar
    archive
  • Phar::createDefaultStub() - Create a phar-file format specific stub

