
MongoCollection::createDBRef

(PECL mongo >=0.9.0)

MongoCollection::createDBRef — 创建一个数据库引用

说明

public array MongoCollection::createDBRef ( mixed $document_or_id )

参数

document_or_id

    If an array or object is given, its _id field will be used as the reference
    ID. If a MongoId or scalar is given, it will be used as the reference ID.

返回值

返回一个数据库的引用数组。

如果提供了不包含 _id 字段的数组当做 document_or_id 参数，将会返回 NULL。

范例

Example #1 MongoCollection::createDBRef() 例子

<?php

$songs = $db->songs;
$playlists = $db->playlists;

// 为 song 创建引用
$manamana = $songs->findOne(array('title' => 'Ma na ma na'));
$refToSong = $songs->createDBRef($manamana);

// 添加引用到我的播放列表
$playlists->update(array('username' => 'me'), array('$push' => array(
'songlist' => $refToSong)));

?>

参见

  • MongoCollection::getDBRef() - Fetches the document pointed to by a database
    reference

