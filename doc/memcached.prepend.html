
Memcached::prepend

(PECL memcached >= 0.1.0)

Memcached::prepend — 向一个已存在的元素前面追加数据

说明

public bool Memcached::prepend ( string $key , string $value )

Memcached::prepend()向已存在元素的字符串值前追加value。 value被强制转换成字符串
类型主要是因为对于mix类型的追加没有很好的定义。

    Note:

    如果Memcached::OPT_COMPRESSION常量开启，这个操作会失败，并引发一个警告，因
    为向压缩数据后追加数据可能会导致解压不了。

参数

key

    要向前追加数据的元素的key。

value

    要追加的字符串。

返回值

成功时返回 TRUE，或者在失败时返回 FALSE。如果key不存在，
Memcached::getResultCode()返回Memcached::RES_NOTSTORED。

范例

Example #1 Memcached::prepend() 示例

<?php
$m = new Memcached();
$m->addServer('localhost', 11211);
$m->setOption(Memcached::OPT_COMPRESSION, false);

$m->set('foo', 'abc');
$m->prepend('foo', 'def');
var_dump($m->get('foo'));
?>

以上例程会输出：

string(6) "defabc"

参见

  • Memcached::prependByKey() - Prepend data to an existing item on a specific
    server
  • Memcached::append() - 向已存在元素后追加数据

