
MysqlndUhConnection::charsetName

(PECL mysqlnd-uh >= 1.0.0-alpha)

MysqlndUhConnection::charsetName — Returns the default character set for the
database connection

说明

public string MysqlndUhConnection::charsetName ( mysqlnd_connection $connection
)

Returns the default character set for the database connection.

参数

connection

    Mysqlnd connection handle. Do not modify!

返回值

The default character set.

范例

Example #1 MysqlndUhConnection::charsetName() example

<?php
class proxy extends MysqlndUhConnection {
  public function charsetName($res) {
   printf("%s(%s)\n", __METHOD__, var_export(func_get_args(), true));
   $ret = parent::charsetName($res);
   printf("%s returns %s\n", __METHOD__, var_export($ret, true));
   return $ret;
 }
}
mysqlnd_uh_set_connection_proxy(new proxy());

$mysqli = new mysqli("localhost", "root", "", "test");
var_dump(mysqli_character_set_name($mysqli));
?>

以上例程会输出：

proxy::charsetName(array (
  0 => NULL,
))
proxy::charsetName returns 'latin1'
string(6) "latin1"

参见

  • mysqlnd_uh_set_connection_proxy() - Installs a proxy for mysqlnd
    connections
  • mysqli_character_set_name() - 返回当前数据库连接的默认字符编码

