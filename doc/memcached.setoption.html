
Memcached::setOption

(PECL memcached >= 0.1.0)

Memcached::setOption — 设置一个memcached选项

说明

public bool Memcached::setOption ( int $option , mixed $value )

这个方法用来设置Memcached option的值。一些选项和libmemcached中定义的类似，还有
一些则是扩展所特有的。关于选项的更多信息请参阅Memcached Constants。

下面的选项列表需要通过特定的常量指定值。

  • Memcached::OPT_HASH需要Memcached::HASH_*系列常量值。

  • Memcached::OPT_DISTRIBUTION需要Memcached::DISTRIBUTION_*系列常量值。

返回值

成功时返回 TRUE，或者在失败时返回 FALSE。

范例

Example #1 设置一个memcached选项值

<?php
$m = new Memcached();
var_dump($m->getOption(Memcached::OPT_HASH) == Memcached::HASH_DEFAULT);
$m->setOption(Memcached::OPT_HASH, Memcached::HASH_MURMUR);
$m->setOption(Memcached::OPT_PREFIX_KEY, "widgets");
echo "Prefix key is now: ", $m->getOption(Memcached::OPT_PREFIX_KEY), "\n";
?>

以上例程会输出：

bool(true)
Prefix key is now: widgets

参见

  • Memcached::getOption() - 获取Memcached的选项值


User Contributed Notes 1 note

===============================================================================

Be warned that setting the option Memcached::OPT_DISTRIBUTION to
Memcached::DISTRIBUTION_CONSISTENT can carry a significant performance hit so
is best used with persistent connections. More details at http://github.com/
andreiz/php-memcached/issues#issue/14
