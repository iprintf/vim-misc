
oci_field_precision

(PHP 5, PHP 7, PECL OCI8 >= 1.1.0)

oci_field_precision — 返回字段精度

说明

int oci_field_precision ( resource $statement , int $field )

返回索引为 field（从 1 开始）的字段的精度。

对于 FLOAT 字段，精度为非零值且范围为 -127。如果精度为 0，则字段为 NUMBER。其它
类型为 NUMBER(precision, scale)。

    Note:

    在 PHP 5.0.0 之前的版本必须使用 ocicolumnprecision() 替代本函数。该函数名仍
    然可用，为向下兼容作为 oci_field_precision() 的别名。不过其已被废弃，不推荐
    使用。

参见 oci_field_scale() 和 oci_field_type()。


User Contributed Notes 2 notes

===============================================================================

I did not test well before posting previous code.  This if statement works and
the other does not.

if( ocicolumnscale($R, $i ) != 129 )
{
    $int_decimal = ocicolumnscale($R, $i );
    $int_length = ocicolumnprecision($R, $i) - $int_decimal;
}
===============================================================================

I've found that when using ocicolumnprecision or oci_field_precision it will
not show you the decimal places if you are are reading from tables with
decimals.  You can use ocicolumnscale or oci_field_scale to find the decimal.

if( ocicolumnscale($R, $i ) > 0 )
{
    $int_decimal = ocicolumnscale($R, $i );
    $int_length = ocicolumnprecision($R, $i) - $int_decimal;
}
