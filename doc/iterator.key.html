
Iterator::key

(PHP 5 >= 5.0.0, PHP 7)

Iterator::key — 返回当前元素的键

说明

abstract public scalar Iterator::key ( void )

返回当前元素的键。

参数

此函数没有参数。

返回值

成功返回标量，失败则返回 NULL。

错误／异常

失败时分发 E_NOTICE 级错误。


User Contributed Notes 4 notes

===============================================================================

Since PHP 5.5.X foreach can accept non scalar items. So the return can be
anything ;)
===============================================================================

And converts everything to integer except string, so in php the post process
could be:

    public function key() {
        $yourKey = $this->createYourKey();
        if (is_object($yourKey) || is_array($yourKey))
            throw new Exception('Array and Object not allowed.');
        elseif (is_string($yourKey))
            return $yourKey;
        else
            return (int) $yourKey;
    }
===============================================================================

Builtin PHP function is »key«.
===============================================================================

Be careful, the returned value must be a scalar! Took me a while to figure out
why foreach() doesn't work on my class that handles arrays with object keys...
