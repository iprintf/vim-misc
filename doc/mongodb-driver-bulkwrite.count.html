
MongoDB\Driver\BulkWrite::count

(mongodb >=1.0.0)

MongoDB\Driver\BulkWrite::count — Count number of write operations in the bulk

说明

public int MongoDB\Driver\BulkWrite::count ( void )

Returns the number of write operations added to the MongoDB\Driver\BulkWrite
object.

参数

此函数没有参数。

返回值

Returns number of write operations added to the MongoDB\Driver\BulkWrite
object.

错误／异常

  • Throws MongoDB\Driver\Exception\InvalidArgumentException on argument
    parsing errors.

更新日志

版本                                    说明
      Returns the number of write operations added to the MongoDB\Driver\
1.2.0 BulkWrite object. Earlier versions returned the expected number of
      client-to-server roundtrips required to execute all write operations.

范例

Example #1 MongoDB\Driver\BulkWrite::count() example

<?php

$bulk = new MongoDB\Driver\BulkWrite;
$bulk->insert(['_id' => 1, 'x' => 1]);
$bulk->insert(['_id' => 2, 'x' => 2]);
$bulk->update(['x' => 2], ['$set' => ['x' => 1]]);
$bulk->delete(['x' => 1]);

var_dump(count($bulk));

?>

以上例程会输出：

int(4)

