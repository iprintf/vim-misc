
imap_ping

(PHP 4, PHP 5, PHP 7)

imap_ping — Check if the IMAP stream is still active

说明

bool imap_ping ( resource $imap_stream )

imap_ping() pings the stream to see if it's still active. It may discover new
mail; this is the preferred method for a periodic "new mail check" as well as a
"keep alive" for servers which have inactivity timeout.

参数

imap_stream

    由 imap_open() 返回的 IMAP 流。

返回值

Returns TRUE if the stream is still alive, FALSE otherwise.

范例

Example #1 imap_ping() Example

<?php

$imap = imap_open("{imap.example.org}", "mailadmin", "password");

// after some sleeping
if (!imap_ping($imap)) {
    // do some stuff to reconnect
}

?>


User Contributed Notes 1 note

===============================================================================

This is a great solution for a webmail class if you want to make sure that a
user is still logged in. Example:

<?php
if(!(imap_ping($stream)) {
die("The user is no longer logged in.");
?>
