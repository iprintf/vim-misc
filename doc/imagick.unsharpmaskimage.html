
Imagick::unsharpMaskImage

(PECL imagick 2.0.0)

Imagick::unsharpMaskImage — Sharpens an image

说明

bool Imagick::unsharpMaskImage ( float $radius , float $sigma , float $amount ,
float $threshold [, int $channel = Imagick::CHANNEL_ALL ] )

Sharpens an image. We convolve the image with a Gaussian operator of the given
radius and standard deviation (sigma). For reasonable results, radius should be
larger than sigma. Use a radius of 0 and Imagick::UnsharpMaskImage() selects a
suitable radius for you.

参数

radius

sigma

amount

threshold

channel

返回值

成功时返回 TRUE。

错误／异常

错误时抛出 ImagickException。

范例

Example #1 Imagick::unsharpMaskImage()

<?php
function unsharpMaskImage($imagePath, $radius, $sigma, $amount, 
$unsharpThreshold) {
    $imagick = new \Imagick(realpath($imagePath));
    $imagick->unsharpMaskImage($radius, $sigma, $amount, $unsharpThreshold);
    header("Content-Type: image/jpg");
    echo $imagick->getImageBlob();
}

?>


User Contributed Notes 1 note

===============================================================================

Prepare photo for web

<?php
$im = new Imagick($SrcFile);

$im->resizeImage ( $Width, $Height , Imagick::FILTER_QUADRATIC , 1 );
       
$im->normalizeImage();
$im->unsharpMaskImage(0 , 0.5 , 1 , 0.05);
       
$im->setImageFormat( "jpg" );
$im->setCompressionQuality(75);

$im->writeImage( $OutFile );
       
$im->removeImage();
?>
