
RarArchive::getEntry

rar_entry_get

(PECL rar >= 2.0.0)

RarArchive::getEntry -- rar_entry_get — Get entry object from the RAR archive

说明

面向对象风格 (method):

public RarEntry RarArchive::getEntry ( string $entryname )

过程化风格:

RarEntry rar_entry_get ( RarArchive $rarfile , string $entryname )

Get entry object (file or directory) from the RAR archive.

    Note:

    You can also get entry objects using RarArchive::getEntries().

    Note that a RAR archive can have multiple entries with the same name; this
    method will retrieve only the first.

参数

rarfile

    A RarArchive object, opened with rar_open().

entryname

    Path to the entry within the RAR archive.

        Note:

        The path must be the same returned by RarEntry::getName().

返回值

Returns the matching RarEntry object 或者在失败时返回 FALSE.

范例

Example #1 面向对象风格

<?php
$rar_arch = RarArchive::open('solid.rar');
if ($rar_arch === FALSE)
    die("Could not open RAR archive.");
$rar_entry = $rar_arch->getEntry('tese.txt');
if ($rar_entry === FALSE)
    die("Could not get such entry");
echo get_class($rar_entry)."\n";
echo $rar_entry;
$rar_arch->close();
?>

以上例程的输出类似于：

RarEntry
RarEntry for file "tese.txt" (23b93a7a)

Example #2 过程化风格

<?php
$rar_arch = rar_open('solid.rar');
if ($rar_arch === FALSE)
    die("Could not open RAR archive.");
$rar_entry = rar_entry_get($rar_arch, 'tese.txt');
if ($rar_entry === FALSE)
    die("Could not get such entry");
echo get_class($rar_entry)."\n";
echo $rar_entry;
rar_close($rar_arch);
?>

参见

  • RarArchive::getEntries() - Get full list of entries from the RAR archive
  • rar:// wrapper

