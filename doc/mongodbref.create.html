
MongoDBRef::create

(PECL mongo >= 0.9.0)

MongoDBRef::create — 创建一个新的数据库引用

说明

public static array MongoDBRef::create ( string $collection , mixed $id [, 
string $database ] )

如果没有指定数据库，将会使用当前数据库。

参数

collection

    集合名称（不包括数据库名）。

id

    要链接的对象的 _id 字段。

database

    数据库名。

返回值

返回引用。

范例

Example #1 MongoDBRef::create() 例子

这个例子为文档创建了一个 addresses 的数据库引用。 MongoCollection::getName() 函
数返回集合的名字（不包括数据库名）。

<?php
$addresses = $db->addresses;
$people = $db->people;

// 保存 $address，所以它有一个 _id
$addresses->insert($address);

// 创建引用
$ref = MongoDBRef::create($addresses->getName(), $address['_id']);

//设置 $person 里的字段
$person['address'] = $ref;
$people->save($person);
?>

参见

  • MongoDB::createDBRef() - 创建数据库引用
  • MongoCollection::createDBRef() - 创建一个数据库引用

