
SolrQuery::addFacetQuery

(PECL solr >= 0.9.2)

SolrQuery::addFacetQuery — Adds a facet query

说明

public SolrQuery SolrQuery::addFacetQuery ( string $facetQuery )

Adds a facet query

参数

facetQuery

    The facet query

返回值

Returns the current SolrQuery object, if the return value is used.

范例

Example #1 SolrQuery::addFacetField() example

<?php

$options = array
(
        'hostname' => SOLR_SERVER_HOSTNAME,
        'login'    => SOLR_SERVER_USERNAME,
        'password' => SOLR_SERVER_PASSWORD,
        'port'     => SOLR_SERVER_PORT,
);

$client = new SolrClient($options);

$query = new SolrQuery('*:*');

$query->setFacet(true);

$query->addFacetQuery('price:[* TO 500]')->addFacetQuery('price:[500 TO *]');

$query_response = $client->query($query);

$response = $query_response->getResponse();

print_r($response->facet_counts->facet_queries);

?>

以上例程的输出类似于：


SolrObject Object
(
    [price:[* TO 500]] => 14
    [price:[500 TO *]] => 2
)


