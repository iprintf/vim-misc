
geoip_region_by_name

(PECL geoip >= 0.2.0)

geoip_region_by_name — Get the country code and region

说明

array geoip_region_by_name ( string $hostname )

The geoip_region_by_name() function will return the country and region
corresponding to a hostname or an IP address.

This function is currently only available to users who have bought a commercial
GeoIP Region Edition. A warning will be issued if the proper database cannot be
located.

The names of the different keys of the returning associative array are as
follows:

  • "country_code" -- Two letter country code (see geoip_country_code_by_name()
    )
  • "region" -- The region code (ex: CA for California)

参数

hostname

    The hostname or IP address whose region is to be looked-up.

返回值

Returns the associative array on success, or FALSE if the address cannot be
found in the database.

范例

Example #1 A geoip_region_by_name() example

This will print the array containing the country code and region of the host
example.com.

<?php
$region = geoip_region_by_name('www.example.com');
if ($region) {
    print_r($region);
}
?>

以上例程会输出：

Array
(
    [country_code] => US
    [region] => CA
)


User Contributed Notes 2 notes

===============================================================================

Hi Kaushal,

You have to install geoip first before using its features, this link might help
http://php.net/manual/en/geoip.setup.php if you get stuck just tell me what
distro you are using
===============================================================================

Hi, I have written this code in my php file.
[code]
$region = geoip_region_by_name('121.246.53.66');
if ($region) {
    print_r($region);
}
[/code]

But gives fatal error :-

Fatal error: Call to undefined function geoip_region_by_name() in /home/
justkids/public_html/index.php on line 40

Do I need to add anything else? Can any one please help?

Thanks
