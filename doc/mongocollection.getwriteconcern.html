
MongoCollection::getWriteConcern

(PECL mongo >=1.5.0)

MongoCollection::getWriteConcern — Get the write concern for this collection

说明

public array MongoCollection::getWriteConcern ( void )

参数

此函数没有参数。

返回值

This function returns an array describing the write concern. The array contains
the values w for an integer acknowledgement level or string mode, and wtimeout
denoting the maximum number of milliseconds to wait for the server to satisfy
the write concern.

范例

Example #1 MongoCollection::getWriteConcern() return value example

<?php

$mc = new MongoClient('mongodb://localhost:27017', array('wTimeoutMS' => 500));
$coll = $mc->selectCollection('test', 'foo');
var_dump($coll->getWriteConcern());

$coll->setWriteConcern(1, 1000);
var_dump($coll->getWriteConcern());
?>

以上例程会输出：

array(2) {
  ["w"]=>
  int(1)
  ["wtimeout"]=>
  int(500)
}
array(2) {
  ["w"]=>
  int(1)
  ["wtimeout"]=>
  int(1000)
}

参见

  • The write concern documentation.
  • MongoCollection::setWriteConcern() - Set the write concern for this
    database

