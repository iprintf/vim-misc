
Phar::offsetGet

(PHP >= 5.3.0, PECL phar >= 1.0.0)

Phar::offsetGet — Gets a PharFileInfo object for a specific file

说明

public int Phar::offsetGet ( string $offset )

This is an implementation of the ArrayAccess interface allowing direct
manipulation of the contents of a Phar archive using array access brackets. 
Phar::offsetGet() is used for retrieving files from a Phar archive.

参数

offset

    The filename (relative path) to look for in a Phar.

返回值

A PharFileInfo object is returned that can be used to iterate over a file's
contents or to retrieve information about the current file.

错误／异常

This method throws BadMethodCallException if the file does not exist in the
Phar archive.

范例

Example #1 Phar::offsetGet() example

As with all classes that implement the ArrayAccess interface, Phar::offsetGet()
is automatically called when using the [] angle bracket operator.

<?php
$p = new Phar(dirname(__FILE__) . '/myphar.phar', 0, 'myphar.phar');
$p['exists.txt'] = "file exists\n";
try {
    // automatically calls offsetGet()
    echo $p['exists.txt'];
    echo $p['doesnotexist.txt'];
} catch (BadMethodCallException $e) {
    echo $e;
}
?>

以上例程会输出：

file exists
Entry doesnotexist.txt does not exist

参见

  • Phar::offsetExists() - determines whether a file exists in the phar
  • Phar::offsetSet() - set the contents of an internal file to those of an
    external file
  • Phar::offsetUnset() - remove a file from a phar

